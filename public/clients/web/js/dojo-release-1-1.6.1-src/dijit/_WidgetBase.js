define("dijit/_WidgetBase",["dojo","dijit","dijit/_base/manager","dojo/Stateful"],function(a,b){(function(){a.declare("dijit._WidgetBase",a.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(a.config.blankGif||a.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(a,b){this.create(a,b)},create:function(c,d){this.srcNodeRef=a.byId(d),this._connects=[],this._subscribes=[],this.srcNodeRef&&typeof this.srcNodeRef.id=="string"&&(this.id=this.srcNodeRef.id),c&&(this.params=c,a._mixin(this,c)),this.postMixInProperties(),this.id||(this.id=b.getUniqueId(this.declaredClass.replace(/\./g,"_"))),b.registry.add(this),this.buildRendering();if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;e&&e.parentNode&&this.domNode!==e&&e.parentNode.replaceChild(this.domNode,e)}this.domNode&&this.domNode.setAttribute("widgetId",this.id),this.postCreate(),this.srcNodeRef&&!this.srcNodeRef.parentNode&&delete this.srcNodeRef,this._created=!0},_applyAttributes:function(){var b=function(a,b){(b.params&&a in b.params||b[a])&&b.set(a,b[a])};for(var c in this.attributeMap)b(c,this);a.forEach(this._getSetterAttributes(),function(a){a in this.attributeMap||b(a,this)},this)},_getSetterAttributes:function(){var b=this.constructor;if(!b._setterAttrs){var c=b._setterAttrs=[],d,e=b.prototype;for(var f in e)a.isFunction(e[f])&&(d=f.match(/^_set([a-zA-Z]*)Attr$/))&&d[1]&&c.push(d[1].charAt(0).toLowerCase()+d[1].substr(1))}return b._setterAttrs},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||a.create("div"));if(this.baseClass){var b=this.baseClass.split(" ");this.isLeftToRight()||(b=b.concat(a.map(b,function(a){return a+"Rtl"}))),a.addClass(this.domNode,b)}},postCreate:function(){},startup:function(){this._started=!0},destroyRecursive:function(a){this._beingDestroyed=!0,this.destroyDescendants(a),this.destroy(a)},destroy:function(c){this._beingDestroyed=!0,this.uninitialize();var d=a,e=d.forEach,f=d.unsubscribe;e(this._connects,function(a){e(a,d.disconnect)}),e(this._subscribes,function(a){f(a)}),e(this._supportingWidgets||[],function(a){a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy()}),this.destroyRendering(c),b.registry.remove(this.id),this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe),this.domNode&&(b?a.removeAttr(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode),this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(b){a.forEach(this.getChildren(),function(a){a.destroyRecursive&&a.destroyRecursive(b)})},uninitialize:function(){return!1},_setClassAttr:function(b){var c=this[this.attributeMap["class"]||"domNode"];a.replaceClass(c,b,this["class"]),this._set("class",b)},_setStyleAttr:function(b){var c=this[this.attributeMap.style||"domNode"];a.isObject(b)?a.style(c,b):c.style.cssText?c.style.cssText+="; "+b:c.style.cssText=b,this._set("style",b)},_attrToDom:function(b,c){var d=this.attributeMap[b];a.forEach(a.isArray(d)?d:[d],function(d){var e=this[d.node||d||"domNode"],f=d.type||"attribute";switch(f){case"attribute":a.isFunction(c)&&(c=a.hitch(this,c));var g=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(b)?b.toLowerCase():b;a.attr(e,g,c);break;case"innerText":e.innerHTML="",e.appendChild(a.doc.createTextNode(c));break;case"innerHTML":e.innerHTML=c;break;case"class":a.replaceClass(e,c,this[b])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this[a]},set:function(a,b){if(typeof a==="object"){for(var c in a)this.set(c,a[c]);return this}var d=this._getAttrNames(a);if(this[d.s])var e=this[d.s].apply(this,Array.prototype.slice.call(arguments,1));else a in this.attributeMap&&this._attrToDom(a,b),this._set(a,b);return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.charAt(0).toUpperCase()+a.substr(1);return b[a]={n:a+"Node",s:"_set"+c+"Attr",g:"_get"+c+"Attr"}},_set:function(a,b){var c=this[a];this[a]=b,this._watchCallbacks&&this._created&&b!==c&&this._watchCallbacks(a,c,b)},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getDescendants:function(){return this.containerNode?a.query("[widgetId]",this.containerNode).map(b.byNode):[]},getChildren:function(){return this.containerNode?b.findWidgets(this.containerNode):[]},connect:function(b,c,d){var e=[a._connect(b,c,this,d)];this._connects.push(e);return e},disconnect:function(b){for(var c=0;c<this._connects.length;c++)if(this._connects[c]==b){a.forEach(b,a.disconnect),this._connects.splice(c,1);return}},subscribe:function(b,c){var d=a.subscribe(b,this,c);this._subscribes.push(d);return d},unsubscribe:function(b){for(var c=0;c<this._subscribes.length;c++)if(this._subscribes[c]==b){a.unsubscribe(b),this._subscribes.splice(c,1);return}},isLeftToRight:function(){return this.dir?this.dir=="ltr":a._isBodyLtr()},placeAt:function(b,c){b.declaredClass&&b.addChild?b.addChild(this,c):a.place(this.domNode,b,c);return this}})})();return b._WidgetBase})