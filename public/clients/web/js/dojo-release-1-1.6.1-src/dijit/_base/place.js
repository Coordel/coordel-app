define("dijit/_base/place",["dojo","dijit","dojo/window","dojo/AdapterRegistry"],function(a,b){b.getViewport=function(){return a.window.getBox()},b.placeOnScreen=function(c,d,e,f){var g=a.map(e,function(a){var b={corner:a,pos:{x:d.x,y:d.y}};f&&(b.pos.x+=a.charAt(1)=="L"?f.x:-f.x,b.pos.y+=a.charAt(0)=="T"?f.y:-f.y);return b});return b._place(c,g)},b._place=function(b,c,d,e){var f=a.window.getBox();(!b.parentNode||String(b.parentNode.tagName).toLowerCase()!="body")&&a.body().appendChild(b);var g=null;a.some(c,function(c){var h=c.corner,i=c.pos,j=0,k={w:h.charAt(1)=="L"?f.l+f.w-i.x:i.x-f.l,h:h.charAt(1)=="T"?f.t+f.h-i.y:i.y-f.t};if(d){var l=d(b,c.aroundCorner,h,k,e);j=typeof l=="undefined"?0:l}var m=b.style,n=m.display,o=m.visibility;m.visibility="hidden",m.display="";var p=a.marginBox(b);m.display=n,m.visibility=o;var q=Math.max(f.l,h.charAt(1)=="L"?i.x:i.x-p.w),r=Math.max(f.t,h.charAt(0)=="T"?i.y:i.y-p.h),s=Math.min(f.l+f.w,h.charAt(1)=="L"?q+p.w:i.x),t=Math.min(f.t+f.h,h.charAt(0)=="T"?r+p.h:i.y),u=s-q,v=t-r;j+=p.w-u+(p.h-v);if(g==null||j<g.overflow)g={corner:h,aroundCorner:c.aroundCorner,x:q,y:r,w:u,h:v,overflow:j,spaceAvailable:k};return!j}),g.overflow&&d&&d(b,g.aroundCorner,g.corner,g.spaceAvailable,e);var h=a._isBodyLtr(),i=b.style;i.top=g.y+"px",i[h?"left":"right"]=(h?g.x:f.w-g.x-g.w)+"px";return g},b.placeOnScreenAroundNode=function(c,d,e,f){d=a.byId(d);var g=a.position(d,!0);return b._placeOnScreenAroundRect(c,g.x,g.y,g.w,g.h,e,f)},b.placeOnScreenAroundRectangle=function(a,c,d,e){return b._placeOnScreenAroundRect(a,c.x,c.y,c.width,c.height,d,e)},b._placeOnScreenAroundRect=function(a,c,d,e,f,g,h){var i=[];for(var j in g)i.push({aroundCorner:j,corner:g[j],pos:{x:c+(j.charAt(1)=="L"?0:e),y:d+(j.charAt(0)=="T"?0:f)}});return b._place(a,i,h,{w:e,h:f})},b.placementRegistry=new a.AdapterRegistry,b.placementRegistry.register("node",function(a,b){return typeof b=="object"&&typeof b.offsetWidth!="undefined"&&typeof b.offsetHeight!="undefined"},b.placeOnScreenAroundNode),b.placementRegistry.register("rect",function(a,b){return typeof b=="object"&&"x"in b&&"y"in b&&"width"in b&&"height"in b},b.placeOnScreenAroundRectangle),b.placeOnScreenAroundElement=function(a,c,d,e){return b.placementRegistry.match.apply(b.placementRegistry,arguments)},b.getPopupAroundAlignment=function(b,c){var d={};a.forEach(b,function(a){switch(a){case"after":d[c?"BR":"BL"]=c?"BL":"BR";break;case"before":d[c?"BL":"BR"]=c?"BR":"BL";break;case"below-alt":c=!c;case"below":d[c?"BL":"BR"]=c?"TL":"TR",d[c?"BR":"BL"]=c?"TR":"TL";break;case"above-alt":c=!c;case"above":default:d[c?"TL":"TR"]=c?"BL":"BR",d[c?"TR":"TL"]=c?"BR":"BL"}});return d};return b})