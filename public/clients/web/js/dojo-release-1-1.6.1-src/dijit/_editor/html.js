define("dijit/_editor/html",["dojo","dijit"],function(a,b){a.getObject("_editor",!0,b),b._editor.escapeXml=function(a,b){a=a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;"),b||(a=a.replace(/'/gm,"&#39;"));return a},b._editor.getNodeHtml=function(c){var d;switch(c.nodeType){case 1:var e=c.nodeName.toLowerCase();if(!e||e.charAt(0)=="/")return"";d="<"+e;var f=[],g;if(a.isIE&&c.outerHTML){var h=c.outerHTML;h=h.substr(0,h.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var i=/(\b\w+)\s?=/g,j,k;while(j=i.exec(h)){k=j[1];if(k.substr(0,3)!="_dj"){if(k=="src"||k=="href")if(c.getAttribute("_djrealurl")){f.push([k,c.getAttribute("_djrealurl")]);continue}var l,m;switch(k){case"style":l=c.style.cssText.toLowerCase();break;case"class":l=c.className;break;case"width":if(e==="img"){m=/width=(\S+)/i.exec(h),m&&(l=m[1]);break};case"height":if(e==="img"){m=/height=(\S+)/i.exec(h),m&&(l=m[1]);break};default:l=c.getAttribute(k)}l!=null&&f.push([k,l.toString()])}}}else{var n=0;while(g=c.attributes[n++]){var o=g.name;if(o.substr(0,3)!="_dj"){var p=g.value;if(o=="src"||o=="href")c.getAttribute("_djrealurl")&&(p=c.getAttribute("_djrealurl"));f.push([o,p])}}}f.sort(function(a,b){return a[0]<b[0]?-1:a[0]==b[0]?0:1});var q=0;while(g=f[q++])d+=" "+g[0]+'="'+(a.isString(g[1])?b._editor.escapeXml(g[1],!0):g[1])+'"';if(e==="script")d+=">"+c.innerHTML+"</"+e+">";else if(c.childNodes.length)d+=">"+b._editor.getChildrenHtml(c)+"</"+e+">";else switch(e){case"br":case"hr":case"img":case"input":case"base":case"meta":case"area":case"basefont":d+=" />";break;default:d+="></"+e+">"}break;case 4:case 3:d=b._editor.escapeXml(c.nodeValue,!0);break;case 8:d="<!--"+b._editor.escapeXml(c.nodeValue,!0)+"-->";break;default:d="<!-- Element not recognized - Type: "+c.nodeType+" Name: "+c.nodeName+"-->"}return d},b._editor.getChildrenHtml=function(c){var d="";if(!c)return d;var e=c.childNodes||c,f=!a.isIE||e!==c,g,h=0;while(g=e[h++])if(!f||g.parentNode==c)d+=b._editor.getNodeHtml(g);return d};return b._editor})