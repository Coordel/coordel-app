define("dijit/_editor/plugins/Print",["dojo","dijit","dijit/_editor/_Plugin","dijit/form/Button","dojo/i18n","i18n!dijit/_editor/nls/commands"],function(a,b){a.declare("dijit._editor.plugins.Print",b._editor._Plugin,{_initButton:function(){var c=a.i18n.getLocalization("dijit._editor","commands"),d=this.editor;this.button=new b.form.Button({label:c.print,dir:d.dir,lang:d.lang,showLabel:!1,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Print",tabIndex:"-1",onClick:a.hitch(this,"_print")})},setEditor:function(b){this.editor=b,this._initButton(),this.editor.onLoadDeferred.addCallback(a.hitch(this,function(){this.editor.iframe.contentWindow.print||this.button.set("disabled",!0)}))},updateState:function(){var a=this.get("disabled");this.editor.iframe.contentWindow.print||(a=!0),this.button.set("disabled",a)},_print:function(){var c=this.editor.iframe;if(c.contentWindow.print)if(a.isOpera||a.isChrome){var d=this.editor.document,e=this.editor.get("value");e="<html><head><meta http-equiv='Content-Type' content='text/html; charset='UTF-8'></head><body>"+e+"</body></html>";var f=window.open("javascript: ''","","status=0,menubar=0,location=0,toolbar=0,width=1,height=1,resizable=0,scrollbars=0");f.document.open(),f.document.write(e),f.document.close();var g=[],h=d.getElementsByTagName("style");if(h){var i;for(i=0;i<h.length;i++){var j=h[i].innerHTML,k=f.document.createElement("style");k.appendChild(f.document.createTextNode(j)),f.document.getElementsByTagName("head")[0].appendChild(k)}}f.print(),f.close()}else b.focus(c),c.contentWindow.print()}}),a.subscribe(b._scopeName+".Editor.getPlugin",null,function(a){if(!a.plugin){var c=a.args.name.toLowerCase();c==="print"&&(a.plugin=new b._editor.plugins.Print({command:"print"}))}});return b._editor.plugins.Print})