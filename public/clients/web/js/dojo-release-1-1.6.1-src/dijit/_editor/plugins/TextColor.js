define("dijit/_editor/plugins/TextColor",["dojo","dijit","dijit/_editor/_Plugin","dijit/ColorPalette"],function(a,b){a.declare("dijit._editor.plugins.TextColor",b._editor._Plugin,{buttonClass:b.form.DropDownButton,useDefaultCommand:!1,constructor:function(){this.dropDown=new b.ColorPalette,this.connect(this.dropDown,"onChange",function(a){this.editor.execCommand(this.command,a)})},updateState:function(){var b=this.editor,c=this.command;if(b&&b.isLoaded&&c.length){if(this.button){var d=this.get("disabled");this.button.set("disabled",d);if(d)return;var e;try{e=b.queryCommandValue(c)||""}catch(f){e=""}}e==""&&(e="#000000"),e=="transparent"&&(e="#ffffff"),typeof e=="string"?e.indexOf("rgb")>-1&&(e=a.colorFromRgb(e).toHex()):(e=(e&255)<<16|e&65280|(e&16711680)>>>16,e=e.toString(16),e="#000000".slice(0,7-e.length)+e),e!==this.dropDown.get("value")&&this.dropDown.set("value",e,!1)}}}),a.subscribe(b._scopeName+".Editor.getPlugin",null,function(a){if(!a.plugin)switch(a.args.name){case"foreColor":case"hiliteColor":a.plugin=new b._editor.plugins.TextColor({command:a.args.name})}});return b._editor.plugins.TextColor})