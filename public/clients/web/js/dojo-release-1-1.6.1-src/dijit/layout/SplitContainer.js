define("dijit/layout/SplitContainer",["dojo","dijit","dojo/cookie","dijit/layout/_LayoutWidget"],function(a,b){a.declare("dijit.layout.SplitContainer",b.layout._LayoutWidget,{constructor:function(){a.deprecated("dijit.layout.SplitContainer is deprecated","use BorderContainer with splitter instead",2)},activeSizing:!1,sizerWidth:7,orientation:"horizontal",persist:!0,baseClass:"dijitSplitContainer",postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.isHorizontal=this.orientation=="horizontal"},postCreate:function(){this.inherited(arguments),this.sizers=[],a.isMozilla&&(this.domNode.style.overflow="-moz-scrollbars-none");if(typeof this.sizerWidth=="object")try{this.sizerWidth=parseInt(this.sizerWidth.toString())}catch(b){this.sizerWidth=7}var c=a.doc.createElement("div");this.virtualSizer=c,c.style.position="relative",c.style.zIndex=10,c.className=this.isHorizontal?"dijitSplitContainerVirtualSizerH":"dijitSplitContainerVirtualSizerV",this.domNode.appendChild(c),a.setSelectable(c,!1)},destroy:function(){delete this.virtualSizer,a.forEach(this._ownconnects,a.disconnect),this.inherited(arguments)},startup:function(){this._started||(a.forEach(this.getChildren(),function(a,b,c){this._setupChild(a),b<c.length-1&&this._addSizer()},this),this.persist&&this._restoreState(),this.inherited(arguments))},_setupChild:function(b){this.inherited(arguments),b.domNode.style.position="absolute",a.addClass(b.domNode,"dijitSplitPane")},_onSizerMouseDown:function(a){if(a.target.id){for(var b=0;b<this.sizers.length;b++)if(this.sizers[b].id==a.target.id)break;b<this.sizers.length&&this.beginSizing(a,b)}},_addSizer:function(c){c=c===undefined?this.sizers.length:c;var d=a.doc.createElement("div");d.id=b.getUniqueId("dijit_layout_SplitterContainer_Splitter"),this.sizers.splice(c,0,d),this.domNode.appendChild(d),d.className=this.isHorizontal?"dijitSplitContainerSizerH":"dijitSplitContainerSizerV";var e=a.doc.createElement("div");e.className="thumb",d.appendChild(e),this.connect(d,"onmousedown","_onSizerMouseDown"),a.setSelectable(d,!1)},removeChild:function(b){if(this.sizers.length){var c=a.indexOf(this.getChildren(),b);c!=-1&&(c==this.sizers.length&&c--,a.destroy(this.sizers[c]),this.sizers.splice(c,1))}this.inherited(arguments),this._started&&this.layout()},addChild:function(a,b){this.inherited(arguments);if(this._started){var c=this.getChildren();c.length>1&&this._addSizer(b),this.layout()}},layout:function(){this.paneWidth=this._contentBox.w,this.paneHeight=this._contentBox.h;var b=this.getChildren();if(b.length){var c=this.isHorizontal?this.paneWidth:this.paneHeight;b.length>1&&(c-=this.sizerWidth*(b.length-1));var d=0;a.forEach(b,function(a){d+=a.sizeShare});var e=c/d,f=0;a.forEach(b.slice(0,b.length-1),function(a){var b=Math.round(e*a.sizeShare);a.sizeActual=b,f+=b}),b[b.length-1].sizeActual=c-f,this._checkSizes();var g=0,h=b[0].sizeActual;this._movePanel(b[0],g,h),b[0].position=g,g+=h;if(!this.sizers)return;a.some(b.slice(1),function(a,b){if(!this.sizers[b])return!0;this._moveSlider(this.sizers[b],g,this.sizerWidth),this.sizers[b].position=g,g+=this.sizerWidth,h=a.sizeActual,this._movePanel(a,g,h),a.position=g,g+=h},this)}},_movePanel:function(b,c,d){if(this.isHorizontal){b.domNode.style.left=c+"px",b.domNode.style.top=0;var e={w:d,h:this.paneHeight};b.resize?b.resize(e):a.marginBox(b.domNode,e)}else{b.domNode.style.left=0,b.domNode.style.top=c+"px";var e={w:this.paneWidth,h:d};b.resize?b.resize(e):a.marginBox(b.domNode,e)}},_moveSlider:function(b,c,d){this.isHorizontal?(b.style.left=c+"px",b.style.top=0,a.marginBox(b,{w:d,h:this.paneHeight})):(b.style.left=0,b.style.top=c+"px",a.marginBox(b,{w:this.paneWidth,h:d}))},_growPane:function(a,b){a>0&&(b.sizeActual>b.sizeMin&&(b.sizeActual-b.sizeMin>a?(b.sizeActual=b.sizeActual-a,a=0):(a-=b.sizeActual-b.sizeMin,b.sizeActual=b.sizeMin)));return a},_checkSizes:function(){var b=0,c=0,d=this.getChildren();a.forEach(d,function(a){c+=a.sizeActual,b+=a.sizeMin});if(b>c)a.forEach(d,function(a){a.sizeActual=Math.round(c*(a.sizeMin/b))});else{var e=0;a.forEach(d,function(a){a.sizeActual<a.sizeMin&&(e+=a.sizeMin-a.sizeActual,a.sizeActual=a.sizeMin)});if(e>0){var f=this.isDraggingLeft?d.reverse():d;a.forEach(f,function(a){e=this._growPane(e,a)},this)}}},beginSizing:function(b,c){var d=this.getChildren();this.paneBefore=d[c],this.paneAfter=d[c+1],this.isSizing=!0,this.sizingSplitter=this.sizers[c],this.cover?this.cover.style.zIndex=5:this.cover=a.create("div",{style:{position:"absolute",zIndex:5,top:0,left:0,width:"100%",height:"100%"}},this.domNode),this.sizingSplitter.style.zIndex=6,this.originPos=a.position(d[0].domNode,!0);if(this.isHorizontal){var e=b.layerX||b.offsetX||0,f=b.pageX;this.originPos=this.originPos.x}else{var e=b.layerY||b.offsetY||0,f=b.pageY;this.originPos=this.originPos.y}this.startPoint=this.lastPoint=f,this.screenToClientOffset=f-e,this.dragOffset=this.lastPoint-this.paneBefore.sizeActual-this.originPos-this.paneBefore.position,this.activeSizing||this._showSizingLine(),this._ownconnects=[],this._ownconnects.push(a.connect(a.doc.documentElement,"onmousemove",this,"changeSizing")),this._ownconnects.push(a.connect(a.doc.documentElement,"onmouseup",this,"endSizing")),a.stopEvent(b)},changeSizing:function(b){this.isSizing&&(this.lastPoint=this.isHorizontal?b.pageX:b.pageY,this.movePoint(),this.activeSizing?this._updateSize():this._moveSizingLine(),a.stopEvent(b))},endSizing:function(b){this.isSizing&&(this.cover&&(this.cover.style.zIndex=-1),this.activeSizing||this._hideSizingLine(),this._updateSize(),this.isSizing=!1,this.persist&&this._saveState(this),a.forEach(this._ownconnects,a.disconnect))},movePoint:function(){var a=this.lastPoint-this.screenToClientOffset,b=a-this.dragOffset;b=this.legaliseSplitPoint(b),a=b+this.dragOffset,this.lastPoint=a+this.screenToClientOffset},legaliseSplitPoint:function(a){a+=this.sizingSplitter.position,this.isDraggingLeft=a>0;if(!this.activeSizing){var b=this.paneBefore.position+this.paneBefore.sizeMin;a<b&&(a=b);var c=this.paneAfter.position+(this.paneAfter.sizeActual-(this.sizerWidth+this.paneAfter.sizeMin));a>c&&(a=c)}a-=this.sizingSplitter.position,this._checkSizes();return a},_updateSize:function(){var b=this.lastPoint-this.dragOffset-this.originPos,c=this.paneBefore.position,d=this.paneAfter.position+this.paneAfter.sizeActual;this.paneBefore.sizeActual=b-c,this.paneAfter.position=b+this.sizerWidth,this.paneAfter.sizeActual=d-this.paneAfter.position,a.forEach(this.getChildren(),function(a){a.sizeShare=a.sizeActual}),this._started&&this.layout()},_showSizingLine:function(){this._moveSizingLine(),a.marginBox(this.virtualSizer,this.isHorizontal?{w:this.sizerWidth,h:this.paneHeight}:{w:this.paneWidth,h:this.sizerWidth}),this.virtualSizer.style.display="block"},_hideSizingLine:function(){this.virtualSizer.style.display="none"},_moveSizingLine:function(){var b=this.lastPoint-this.startPoint+this.sizingSplitter.position;a.style(this.virtualSizer,this.isHorizontal?"left":"top",b+"px")},_getCookieName:function(a){return this.id+"_"+a},_restoreState:function(){a.forEach(this.getChildren(),function(b,c){var d=this._getCookieName(c),e=a.cookie(d);if(e){var f=parseInt(e);typeof f=="number"&&(b.sizeShare=f)}},this)},_saveState:function(){this.persist&&a.forEach(this.getChildren(),function(b,c){a.cookie(this._getCookieName(c),b.sizeShare,{expires:365})},this)}}),a.extend(b._Widget,{sizeMin:10,sizeShare:10});return b.layout.SplitContainer})