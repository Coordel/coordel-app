define("dijit/layout/BorderContainer",["dojo","dijit","dijit/layout/_LayoutWidget","dojo/cookie","dijit/_Templated"],function(a,b){a.declare("dijit.layout.BorderContainer",b.layout._LayoutWidget,{design:"headline",gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter"),this.inherited(arguments)},startup:function(){this._started||(a.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(b){var c=b.region;if(c){this.inherited(arguments),a.addClass(b.domNode,this.baseClass+"Pane");var d=this.isLeftToRight();c=="leading"&&(c=d?"left":"right"),c=="trailing"&&(c=d?"right":"left");if(c!="center"&&(b.splitter||this.gutters)&&!b._splitterWidget){var e=a.getObject(b.splitter?this._splitterClass:"dijit.layout._Gutter"),f=new e({id:b.id+"_splitter",container:this,child:b,region:c,live:this.liveSplitters});f.isSplitter=!0,b._splitterWidget=f,a.place(f.domNode,b.domNode,"after"),f.startup()}b.region=c}},layout:function(){this._layoutChildren()},addChild:function(a,b){this.inherited(arguments),this._started&&this.layout()},removeChild:function(b){var c=b.region,d=b._splitterWidget;d&&(d.destroy(),delete b._splitterWidget),this.inherited(arguments),this._started&&this._layoutChildren(),a.removeClass(b.domNode,this.baseClass+"Pane"),a.style(b.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"}),a.style(b.domNode,c=="top"||c=="bottom"?"width":"height","auto")},getChildren:function(){return a.filter(this.inherited(arguments),function(a){return!a.isSplitter})},getSplitter:function(b){return a.filter(this.getChildren(),function(a){return a.region==b})[0]._splitterWidget},resize:function(b,c){if(!this.cs||!this.pe){var d=this.domNode;this.cs=a.getComputedStyle(d),this.pe=a._getPadExtents(d,this.cs),this.pe.r=a._toPixelValue(d,this.cs.paddingRight),this.pe.b=a._toPixelValue(d,this.cs.paddingBottom),a.style(d,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(c,d){if(this._borderBox&&this._borderBox.h){var e=a.map(this.getChildren(),function(a,b){return{pane:a,weight:[a.region=="center"?Infinity:0,a.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);e.sort(function(a,b){var c=a.weight,d=b.weight;for(var e=0;e<c.length;e++)if(c[e]!=d[e])return c[e]-d[e];return 0});var f=[];a.forEach(e,function(a){var b=a.pane;f.push(b),b._splitterWidget&&f.push(b._splitterWidget)});var g={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};b.layout.layoutChildren(this.domNode,g,f,c,d)}},destroyRecursive:function(){a.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy(),delete a._splitterWidget}),this.inherited(arguments)}}),a.extend(b._Widget,{region:"",layoutPriority:0,splitter:!1,minSize:0,maxSize:Infinity}),a.declare("dijit.layout._Splitter",[b._Widget,b._Templated],{live:!0,templateString:'<div class="dijitSplitter" dojoAttachEvent="onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex="0" role="separator"><div class="dijitSplitterThumb"></div></div>',postMixInProperties:function(){this.inherited(arguments),this.horizontal=/top|bottom/.test(this.region),this._factor=/top|left/.test(this.region)?1:-1,this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments),a.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var b=a.cookie(this._cookieName);b&&(this.child.domNode.style[this.horizontal?"height":"width"]=b)}},_computeMaxSize:function(){var b=this.horizontal?"h":"w",c=a.marginBox(this.child.domNode)[b],d=a.filter(this.container.getChildren(),function(a){return a.region=="center"})[0],e=a.marginBox(d.domNode)[b];return Math.min(this.child.maxSize,c+e)},_startDrag:function(b){this.cover||(this.cover=a.doc.createElement("div"),a.addClass(this.cover,"dijitSplitterCover"),a.place(this.cover,this.child.domNode,"after")),a.addClass(this.cover,"dijitSplitterCoverActive"),this.fake&&a.destroy(this.fake),(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),a.addClass(this.domNode,"dijitSplitterShadow"),a.place(this.fake,this.domNode,"after")),a.addClass(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active"),this.fake&&a.removeClass(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var c=this._factor,d=this.horizontal,e=d?"pageY":"pageX",f=b[e],g=this.domNode.style,h=d?"h":"w",i=a.marginBox(this.child.domNode)[h],j=this._computeMaxSize(),k=this.child.minSize||20,l=this.region,m=l=="top"||l=="bottom"?"top":"left",n=parseInt(g[m],10),o=this._resize,p=a.hitch(this.container,"_layoutChildren",this.child.id),q=a.doc;this._handlers=(this._handlers||[]).concat([a.connect(q,"onmousemove",this._drag=function(a,b){var d=a[e]-f,h=c*d+i,l=Math.max(Math.min(h,j),k);(o||b)&&p(l),g[m]=d+n+c*(l-h)+"px"}),a.connect(q,"ondragstart",a.stopEvent),a.connect(a.body(),"onselectstart",a.stopEvent),a.connect(q,"onmouseup",this,"_stopDrag")]),a.stopEvent(b)},_onMouse:function(b){var c=b.type=="mouseover"||b.type=="mouseenter";a.toggleClass(this.domNode,"dijitSplitterHover",c),a.toggleClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",c)},_stopDrag:function(b){try{this.cover&&a.removeClass(this.cover,"dijitSplitterCoverActive"),this.fake&&a.destroy(this.fake),a.removeClass(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(b),this._drag(b,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&a.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){a.forEach(this._handlers,a.disconnect),delete this._handlers},_onKeyPress:function(b){this._resize=!0;var c=this.horizontal,d=1,e=a.keys;switch(b.charOrCode){case c?e.UP_ARROW:e.LEFT_ARROW:d*=-1;case c?e.DOWN_ARROW:e.RIGHT_ARROW:break;default:return}var f=a._getMarginSize(this.child.domNode)[c?"h":"w"]+this._factor*d;this.container._layoutChildren(this.child.id,Math.max(Math.min(f,this._computeMaxSize()),this.child.minSize)),a.stopEvent(b)},destroy:function(){this._cleanupHandlers(),delete this.child,delete this.container,delete this.cover,delete this.fake,this.inherited(arguments)}}),a.declare("dijit.layout._Gutter",[b._Widget,b._Templated],{templateString:'<div class="dijitGutter" role="presentation"></div>',postMixInProperties:function(){this.inherited(arguments),this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments),a.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}});return b.layout.BorderContainer})