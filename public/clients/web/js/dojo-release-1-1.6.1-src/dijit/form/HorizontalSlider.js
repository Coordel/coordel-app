define("dijit/form/HorizontalSlider",["dojo","dijit","text!dijit/form/templates/HorizontalSlider.html","dijit/form/_FormWidget","dijit/_Container","dojo/dnd/move","dijit/form/Button","dojo/number"],function(a,b){a.declare("dijit.form.HorizontalSlider",[b.form._FormValueWidget,b._Container],{templateString:a.cache("dijit.form","templates/HorizontalSlider.html"),value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:b.defaultDuration,widgetsInTemplate:!0,attributeMap:a.delegate(b.form._FormWidget.prototype.attributeMap,{id:""}),baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_startingPixelCount:"l",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(a){this.disabled||this.readOnly||a.altKey||a.ctrlKey||a.metaKey||this._setValueAttr(this.value,!0)},_onKeyPress:function(b){if(!(this.disabled||this.readOnly||b.altKey||b.ctrlKey||b.metaKey)){switch(b.charOrCode){case a.keys.HOME:this._setValueAttr(this.minimum,!1);break;case a.keys.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?a.keys.RIGHT_ARROW:a.keys.LEFT_ARROW:case this._descending===!1?a.keys.DOWN_ARROW:a.keys.UP_ARROW:case this._descending===!1?a.keys.PAGE_DOWN:a.keys.PAGE_UP:this.increment(b);break;case this._descending||this.isLeftToRight()?a.keys.LEFT_ARROW:a.keys.RIGHT_ARROW:case this._descending===!1?a.keys.UP_ARROW:a.keys.DOWN_ARROW:case this._descending===!1?a.keys.PAGE_UP:a.keys.PAGE_DOWN:this.decrement(b);break;default:return}a.stopEvent(b)}},_onHandleClick:function(c){!this.disabled&&!this.readOnly&&(a.isIE||b.focus(this.sliderHandle),a.stopEvent(c))},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(c){if(!this.disabled&&!this.readOnly&&this.clickSelect){b.focus(this.sliderHandle),a.stopEvent(c);var d=a.position(this.sliderBarContainer,!0),e=c[this._mousePixelCoord]-d[this._startingPixelCoord];this._setPixelValue(this._isReversed()?d[this._pixelCount]-e:e,d[this._pixelCount],!0),this._movable.onMouseDown(c)}},_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){a=a<0?0:b<a?b:a;var d=this.discreteValues;if(d<=1||d==Infinity)d=b;d--;var e=b/d,f=Math.round(a/e);this._setValueAttr((this.maximum-this.minimum)*f/d+this.minimum,c)}},_setValueAttr:function(c,d){this._set("value",c),this.valueNode.value=c,b.setWaiState(this.focusNode,"valuenow",c),this.inherited(arguments);var e=(c-this.minimum)/(this.maximum-this.minimum),f=this._descending===!1?this.remainingBar:this.progressBar,g=this._descending===!1?this.progressBar:this.remainingBar;this._inProgressAnim&&this._inProgressAnim.status!="stopped"&&this._inProgressAnim.stop(!0);if(d&&this.slideDuration>0&&f.style[this._progressPixelSize]){var h=this,i={},j=parseFloat(f.style[this._progressPixelSize]),k=this.slideDuration*(e-j/100);if(k==0)return;k<0&&(k=0-k),i[this._progressPixelSize]={start:j,end:e*100,units:"%"},this._inProgressAnim=a.animateProperty({node:f,duration:k,onAnimate:function(a){g.style[h._progressPixelSize]=100-parseFloat(a[h._progressPixelSize])+"%"},onEnd:function(){delete h._inProgressAnim},properties:i}),this._inProgressAnim.play()}else f.style[this._progressPixelSize]=e*100+"%",g.style[this._progressPixelSize]=(1-e)*100+"%"},_bumpValue:function(b,c){if(!this.disabled&&!this.readOnly){var d=a.getComputedStyle(this.sliderBarContainer),e=a._getContentBox(this.sliderBarContainer,d),f=this.discreteValues;if(f<=1||f==Infinity)f=e[this._pixelCount];f--;var g=(this.value-this.minimum)*f/(this.maximum-this.minimum)+b;g<0&&(g=0),g>f&&(g=f),g=g*(this.maximum-this.minimum)/f+this.minimum,this._setValueAttr(g,c)}},_onClkBumper:function(a){!this.disabled&&!this.readOnly&&this.clickSelect&&this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(this._descending===!1?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(this._descending===!1?this.maximum:this.minimum)},decrement:function(b){this._bumpValue(b.charOrCode==a.keys.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(b){this._bumpValue(b.charOrCode==a.keys.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(b){a.stopEvent(b);var c=!a.isMozilla,d=b[c?"wheelDelta":"detail"]*(c?1:-1);this._bumpValue(d<0?-1:1,!0)},startup:function(){this._started||(a.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,b,c){a==-1?this._setValueAttr(this.value,!0):this[b==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](c)},buildRendering:function(){this.inherited(arguments),this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var c=a.query('label[for="'+this.id+'"]');c.length&&(c[0].id=this.id+"_label",b.setWaiState(this.focusNode,"labelledby",c[0].id)),b.setWaiState(this.focusNode,"valuemin",this.minimum),b.setWaiState(this.focusNode,"valuemax",this.maximum)},postCreate:function(){this.inherited(arguments),this.showButtons&&(this._connects.push(b.typematic.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500)),this._connects.push(b.typematic.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500))),this.connect(this.domNode,a.isMozilla?"DOMMouseScroll":"onmousewheel","_mouseWheeled");var c=a.declare(b.form._SliderMover,{widget:this});this._movable=new a.dnd.Moveable(this.sliderHandle,{mover:c}),this._layoutHackIE7()},destroy:function(){this._movable.destroy(),this._inProgressAnim&&this._inProgressAnim.status!="stopped"&&this._inProgressAnim.stop(!0),this._supportingWidgets=b.findWidgets(this.domNode),this.inherited(arguments)}}),a.declare("dijit.form._SliderMover",a.dnd.Mover,{onMouseMove:function(b){var c=this.widget,d=c._abspos;d||(d=c._abspos=a.position(c.sliderBarContainer,!0),c._setPixelValue_=a.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());var e=b.touches?b.touches[0]:b,f=e[c._mousePixelCoord]-d[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?d[c._pixelCount]-f:f,d[c._pixelCount],!1)},destroy:function(b){a.dnd.Mover.prototype.destroy.apply(this,arguments);var c=this.widget;c._abspos=null,c._setValueAttr(c.value,!0)}});return b.form.HorizontalSlider})