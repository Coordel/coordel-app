define("dijit/form/MultiSelect",["dojo","dijit","dijit/form/_FormWidget"],function(a,b){a.declare("dijit.form.MultiSelect",b.form._FormValueWidget,{size:7,templateString:"<select multiple='true' ${!nameAttrSetting} dojoAttachPoint='containerNode,focusNode' dojoAttachEvent='onchange: _onChange'></select>",attributeMap:a.delegate(b.form._FormWidget.prototype.attributeMap,{size:"focusNode"}),reset:function(){this._hasBeenBlurred=!1,this._setValueAttr(this._resetValue,!0)},addSelected:function(a){a.getSelected().forEach(function(b){this.containerNode.appendChild(b),this.domNode.scrollTop=this.domNode.offsetHeight;var c=a.domNode.scrollTop;a.domNode.scrollTop=0,a.domNode.scrollTop=c},this)},getSelected:function(){return a.query("option",this.containerNode).filter(function(a){return a.selected})},_getValueAttr:function(){return this.getSelected().map(function(a){return a.value})},multiple:!0,_setValueAttr:function(b){a.query("option",this.containerNode).forEach(function(c){c.selected=a.indexOf(b,c.value)!=-1})},invertSelection:function(b){a.query("option",this.containerNode).forEach(function(a){a.selected=!a.selected}),this._handleOnChange(this.get("value"),b==!0)},_onChange:function(a){this._handleOnChange(this.get("value"),!0)},resize:function(b){b&&a.marginBox(this.domNode,b)},postCreate:function(){this._onChange()}});return b.form.MultiSelect})