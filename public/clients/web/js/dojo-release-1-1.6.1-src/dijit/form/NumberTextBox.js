define("dijit/form/NumberTextBox",["dojo","dijit","dijit/form/ValidationTextBox","dojo/number"],function(a,b){a.declare("dijit.form.NumberTextBoxMixin",null,{regExpGen:a.number.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:a.number.format,_setConstraintsAttr:function(a){var b=typeof a.places=="number"?a.places:0;b&&b++,typeof a.max!="number"&&(a.max=9*Math.pow(10,15-b)),typeof a.min!="number"&&(a.min=-9*Math.pow(10,15-b)),this.inherited(arguments,[a]),this.focusNode&&this.focusNode.value&&!isNaN(this.value)&&this.set("value",this.value)},_onFocus:function(){if(!this.disabled){var a=this.get("value");if(typeof a=="number"&&!isNaN(a)){var b=this.format(a,this.constraints);b!==undefined&&(this.textbox.value=b)}this.inherited(arguments)}},format:function(b,c){var d=String(b);if(typeof b!="number")return d;if(isNaN(b))return"";if(!("rangeCheck"in this&&this.rangeCheck(b,c))&&c.exponent!==!1&&/\de[-+]?\d/i.test(d))return d;this.editOptions&&this._focused&&(c=a.mixin({},c,this.editOptions));return this._formatter(b,c)},_parser:a.number.parse,parse:function(b,c){var d=this._parser(b,a.mixin({},c,this.editOptions&&this._focused?this.editOptions:{}));this.editOptions&&this._focused&&isNaN(d)&&(d=this._parser(b,c));return d},_getDisplayedValueAttr:function(){var a=this.inherited(arguments);return isNaN(a)?this.textbox.value:a},filter:function(a){return a===null||a===""||a===undefined?NaN:this.inherited(arguments)},serialize:function(a,b){return typeof a!="number"||isNaN(a)?"":this.inherited(arguments)},_setBlurValue:function(){var b=a.hitch(a.mixin({},this,{_focused:!0}),"get")("value");this._setValueAttr(b,!0)},_setValueAttr:function(a,b,c){if(a!==undefined&&c===undefined){c=String(a);if(typeof a=="number"){if(isNaN(a))c="";else if("rangeCheck"in this&&this.rangeCheck(a,this.constraints)||this.constraints.exponent===!1||!/\de[-+]?\d/i.test(c))c=undefined}else a?a=undefined:(c="",a=NaN)}this.inherited(arguments,[a,b,c])},_getValueAttr:function(){var b=this.inherited(arguments);if(isNaN(b)&&this.textbox.value!==""){if(this.constraints.exponent!==!1&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+a.number._realNumberRegexp(a.mixin({},this.constraints))+"$")).test(this.textbox.value)){var c=Number(this.textbox.value);return isNaN(c)?undefined:c}return undefined}return b},isValid:function(a){if(!this._focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var b=this.get("value");return!isNaN(b)&&this.rangeCheck(b,this.constraints)?this.constraints.exponent!==!1&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1}}),a.declare("dijit.form.NumberTextBox",[b.form.RangeBoundTextBox,b.form.NumberTextBoxMixin],{baseClass:"dijitTextBox dijitNumberTextBox"});return b.form.NumberTextBox})