define("dijit/form/Textarea",["dojo","dijit","dijit/form/SimpleTextarea"],function(a,b){a.declare("dijit.form.Textarea",b.form.SimpleTextarea,{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",_previousNewlines:0,_strictMode:a.doc.compatMode!="BackCompat",_getHeight:function(b){var c=b.scrollHeight;a.isIE?c+=b.offsetHeight-b.clientHeight-(a.isIE<8&&this._strictMode?a._getPadBorderExtents(b).h:0):a.isMoz?c+=b.offsetHeight-b.clientHeight:a.isWebKit?c+=a._getBorderExtents(b).h:c+=a._getPadBorderExtents(b).h;return c},_estimateHeight:function(a){a.style.maxHeight="",a.style.height="auto",a.rows=(a.value.match(/\n/g)||[]).length+1},_needsHelpShrinking:a.isMoz||a.isWebKit,_onInput:function(){this.inherited(arguments);if(!this._busyResizing){this._busyResizing=!0;var b=this.textbox;if(b.scrollHeight&&b.offsetHeight&&b.clientHeight){var c=this._getHeight(b)+"px";b.style.height!=c&&(b.style.maxHeight=b.style.height=c),this._needsHelpShrinking&&(this._setTimeoutHandle&&clearTimeout(this._setTimeoutHandle),this._setTimeoutHandle=setTimeout(a.hitch(this,"_shrink"),0))}else this._estimateHeight(b);this._busyResizing=!1}},_busyResizing:!1,_shrink:function(){this._setTimeoutHandle=null;if(this._needsHelpShrinking&&!this._busyResizing){this._busyResizing=!0;var b=this.textbox,c=!1;b.value==""&&(b.value=" ",c=!0);var d=b.scrollHeight;if(d){var e=b.style.paddingBottom,f=a._getPadExtents(b);f=f.h-f.t,b.style.paddingBottom=f+1+"px";var g=this._getHeight(b)-1+"px";b.style.maxHeight!=g&&(b.style.paddingBottom=f+d+"px",b.scrollTop=0,b.style.maxHeight=this._getHeight(b)-d+"px"),b.style.paddingBottom=e}else this._estimateHeight(b);c&&(b.value=""),this._busyResizing=!1}},resize:function(){this._onInput()},_setValueAttr:function(){this.inherited(arguments),this.resize()},buildRendering:function(){this.inherited(arguments),a.style(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})},postCreate:function(){this.inherited(arguments),this.connect(this.textbox,"onscroll","_onInput"),this.connect(this.textbox,"onresize","_onInput"),this.connect(this.textbox,"onfocus","_onInput"),this._setTimeoutHandle=setTimeout(a.hitch(this,"resize"),0)},uninitialize:function(){this._setTimeoutHandle&&clearTimeout(this._setTimeoutHandle),this.inherited(arguments)}});return b.form.Textarea})