dojo.provide("dojox.form.MultiComboBox"),dojo.experimental("dojox.form.MultiComboBox"),dojo.require("dijit.form.ComboBox"),dojo.require("dijit.form.ValidationTextBox"),dojo.declare("dojox.form.MultiComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{delimiter:",",_previousMatches:!1,_setValueAttr:function(a){this.delimiter&&a.length!=0&&(a=a+this.delimiter+" ",arguments[0]=this._addPreviousMatches(a)),this.inherited(arguments)},_addPreviousMatches:function(a){this._previousMatches&&(a.match(new RegExp("^"+this._previousMatches))||(a=this._previousMatches+a),a=this._cleanupDelimiters(a));return a},_cleanupDelimiters:function(a){this.delimiter&&(a=a.replace(new RegExp("  +")," "),a=a.replace(new RegExp("^ *"+this.delimiter+"* *"),""),a=a.replace(new RegExp(this.delimiter+" *"+this.delimiter),this.delimiter));return a},_autoCompleteText:function(a){arguments[0]=this._addPreviousMatches(a),this.inherited(arguments)},_startSearch:function(a){a=this._cleanupDelimiters(a);var b=new RegExp("^.*"+this.delimiter+" *");if(this._previousMatches=a.match(b))arguments[0]=a.replace(b,"");this.inherited(arguments)}})