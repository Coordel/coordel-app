define("dojo/html",["dojo","dojo/parser"],function(a){a.getObject("html",!0,a),function(){var b=0,c=a;a.html._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},a.html._emptyNode=a.empty,a.html._setNodeContent=function(a,b){c.empty(a);if(b){typeof b=="string"&&(b=c._toDom(b,a.ownerDocument));if(!b.nodeType&&c.isArrayLike(b))for(var e=b.length,f=0;f<b.length;f=e==b.length?f+1:0)c.place(b[f],a,"last");else c.place(b,a,"last")}return a},a.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:a._scopeName,startup:!0,constructor:function(c,d){a.mixin(this,c||{}),d=this.node=a.byId(this.node||d),this.id||(this.id=["Setter",d?d.id||d.tagName:"",b++].join("_"))},set:function(a,b){undefined!==a&&(this.content=a),b&&this._mixin(b),this.onBegin(),this.setContent(),this.onEnd();return this.node},setContent:function(){var b=this.node;if(!b)throw new Error(this.declaredClass+": setContent given no node");try{b=a.html._setNodeContent(b,this.content)}catch(c){var d=this.onContentError(c);try{b.innerHTML=d}catch(c){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+c.message,c)}}this.node=b},empty:function(){this.parseResults&&this.parseResults.length&&(a.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults),a.html._emptyNode(this.node)},onBegin:function(){var b=this.content;if(a.isString(b)){this.cleanContent&&(b=a.html._secureForInnerHtml(b));if(this.extractContent){var c=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(b=c[1])}}this.empty(),this.content=b;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults,delete this.node,delete this.content},onContentError:function(a){return"Error occured setting content: "+a},_mixin:function(a){var b={},c;for(c in a){if(c in b)continue;this[c]=a[c]}},_parse:function(){var b=this.node;try{var c={};a.forEach(["dir","lang","textDir"],function(a){this[a]&&(c[a]=this[a])},this),this.parseResults=a.parser.parse({rootNode:b,noStart:!this.startup,inherited:c,scope:this.parserScope})}catch(d){this._onError("Content",d,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(b,c,d){var e=this["on"+b+"Error"].call(this,c);d?console.error(d,c):e&&a.html._setNodeContent(this.node,e,!0)}}),a.html.set=function(b,c,d){undefined==c&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),c="");if(d){var e=new a.html._ContentSetter(a.mixin(d,{content:c,node:b}));return e.set()}return a.html._setNodeContent(b,c,!0)}}();return a.html})