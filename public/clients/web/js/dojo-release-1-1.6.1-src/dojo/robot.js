define("dojo/robot",["dojo","doh/robot","dojo/window"],function(a){a.experimental("dojo.robot"),function(){a.mixin(doh.robot,{_resolveNode:function(b){typeof b=="function"&&(b=b());return b?a.byId(b):null},_scrollIntoView:function(b){var c=a,d=doh.robot,e=null;c.forEach(d._getWindowChain(b),function(d){c.withGlobal(d,function(){var f=c.position(b,!1),g=c._getPadBorderExtents(b),h=null;e?(h=e,e={x:e.x+f.x+g.l,y:e.y+f.y+g.t,w:e.w,h:e.h}):e=f,a.window.scrollIntoView(b,e),f=c.position(b,!1),h?e={x:h.x+f.x+g.l,y:h.y+f.y+g.t,w:e.w,h:e.h}:e=f,b=d.frameElement})})},_position:function(b){var c=a,d=null,e=Math.max,f=Math.min;c.forEach(doh.robot._getWindowChain(b),function(g){c.withGlobal(g,function(){var h=c.position(b,!1),i=c._getPadBorderExtents(b);if(d){var j;c.withGlobal(b.contentWindow,function(){j=a.window.getBox()}),h.r=h.x+j.w,h.b=h.y+j.h,d={x:e(d.x+h.x,h.x)+i.l,y:e(d.y+h.y,h.y)+i.t,r:f(d.x+h.x+d.w,h.r)+i.l,b:f(d.y+h.y+d.h,h.b)+i.t},d.w=d.r-d.x,d.h=d.b-d.y}else d=h;b=g.frameElement})});return d},_getWindowChain:function(b){var c=a.window.get(b.ownerDocument),d=[c],e=c.frameElement;return c==a.global||e==null?d:d.concat(doh.robot._getWindowChain(e))},scrollIntoView:function(a,b){doh.robot.sequence(function(){doh.robot._scrollIntoView(doh.robot._resolveNode(a))},b)},mouseMoveAt:function(a,b,c,d,e){doh.robot._assertRobot(),c=c||100,this.sequence(function(){a=doh.robot._resolveNode(a),doh.robot._scrollIntoView(a);var b=doh.robot._position(a);e===undefined&&(d=b.w/2,e=b.h/2);var f=b.x+d,g=b.y+e;doh.robot._mouseMove(f,g,!1,c)},b,c)}})}();return doh.robot})