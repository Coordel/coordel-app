define("dojo/Stateful",["dojo"],function(a){a.declare("dojo.Stateful",null,{postscript:function(b){b&&a.mixin(this,b)},get:function(a){return this[a]},set:function(a,b){if(typeof a==="object"){for(var c in a)this.set(c,a[c]);return this}var d=this[a];this[a]=b,this._watchCallbacks&&this._watchCallbacks(a,d,b);return this},watch:function(b,c){var d=this._watchCallbacks;if(!d){var e=this;d=this._watchCallbacks=function(a,b,c,f){var g=function(d){if(d){d=d.slice();for(var f=0,g=d.length;f<g;f++)try{d[f].call(e,a,b,c)}catch(h){console.error(h)}}};g(d["_"+a]),f||g(d["*"])}}c||typeof b!=="function"?b="_"+b:(c=b,b="*");var f=d[b];typeof f!=="object"&&(f=d[b]=[]),f.push(c);return{unwatch:function(){f.splice(a.indexOf(f,c),1)}}}});return a.Stateful})