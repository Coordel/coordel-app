define("dojo/data/util/simpleFetch",["dojo","dojo/data/util/sorter"],function(a){a.getObject("data.util.simpleFetch",!0,a),a.data.util.simpleFetch.fetch=function(b){b=b||{},b.store||(b.store=this);var c=this,d=function(b,c){if(c.onError){var d=c.scope||a.global;c.onError.call(d,b,c)}},e=function(b,d){var e=d.abort||null,f=!1,g=d.start?d.start:0,h=d.count&&d.count!==Infinity?g+d.count:b.length;d.abort=function(){f=!0,e&&e.call(d)};var i=d.scope||a.global;d.store||(d.store=c),d.onBegin&&d.onBegin.call(i,b.length,d),d.sort&&b.sort(a.data.util.sorter.createSortFunction(d.sort,c));if(d.onItem)for(var j=g;j<b.length&&j<h;++j){var k=b[j];f||d.onItem.call(i,k,d)}if(d.onComplete&&!f){var l=null;d.onItem||(l=b.slice(g,h)),d.onComplete.call(i,l,d)}};this._fetchItems(b,e,d);return b};return a.data.util.simpleFetch})