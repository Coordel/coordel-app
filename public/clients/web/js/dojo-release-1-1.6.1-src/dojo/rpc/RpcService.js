define("dojo/rpc/RpcService",["dojo"],function(a){a.declare("dojo.rpc.RpcService",null,{constructor:function(b){if(b)if(a.isString(b)||b instanceof a._Url){if(b instanceof a._Url)var c=b+"";else c=b;var d=a.xhrGet({url:c,handleAs:"json-comment-optional",sync:!0});d.addCallback(this,"processSmd"),d.addErrback(function(){throw new Error("Unable to load SMD from "+b)})}else b.smdStr?this.processSmd(a.eval("("+b.smdStr+")")):(b.serviceUrl&&(this.serviceUrl=b.serviceUrl),this.timeout=b.timeout||3e3,"strictArgChecks"in b&&(this.strictArgChecks=b.strictArgChecks),this.processSmd(b))},strictArgChecks:!0,serviceUrl:"",parseResults:function(a){return a},errorCallback:function(a){return function(b){a.errback(b.message)}},resultCallback:function(b){var c=a.hitch(this,function(a){if(a.error!=null){var c;typeof a.error=="object"?(c=new Error(a.error.message),c.code=a.error.code,c.error=a.error.error):c=new Error(a.error),c.id=a.id,c.errorObject=a,b.errback(c)}else b.callback(this.parseResults(a))});return c},generateMethod:function(b,c,d){return a.hitch(this,function(){var e=new a.Deferred;if(this.strictArgChecks&&c!=null&&arguments.length!=c.length)throw new Error("Invalid number of parameters for remote method.");this.bind(b,a._toArray(arguments),e,d);return e})},processSmd:function(b){b.methods&&a.forEach(b.methods,function(b){if(b&&b.name){this[b.name]=this.generateMethod(b.name,b.parameters,b.url||b.serviceUrl||b.serviceURL);if(!a.isFunction(this[b.name]))throw new Error("RpcService: Failed to create"+b.name+"()")}},this),this.serviceUrl=b.serviceUrl||b.serviceURL,this.required=b.required,this.smd=b}});return a.rpc.RpcService})