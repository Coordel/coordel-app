define(["dojo/lib/backCompat"],function(dojo){if(typeof window!="undefined"){dojo.isBrowser=!0,dojo._name="browser",function(){var d=dojo;if(document&&document.getElementsByTagName){var scripts=document.getElementsByTagName("script"),rePkg=/dojo(\.xd)?\.js(\W|$)/i;for(var i=0;i<scripts.length;i++){var src=scripts[i].getAttribute("src");if(!src)continue;var m=src.match(rePkg);if(m){d.config.baseUrl||(d.config.baseUrl=src.substring(0,m.index));var cfg=scripts[i].getAttribute("djConfig")||scripts[i].getAttribute("data-dojo-config");if(cfg){var cfgo=eval("({ "+cfg+" })");for(var x in cfgo)dojo.config[x]=cfgo[x]}break}}}d.baseUrl=d.config.baseUrl;var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);dua.indexOf("Opera")>=0&&(d.isOpera=tv),dua.indexOf("AdobeAIR")>=0&&(d.isAIR=1),d.isKhtml=dav.indexOf("Konqueror")>=0?tv:0,d.isWebKit=parseFloat(dua.split("WebKit/")[1])||undefined,d.isChrome=parseFloat(dua.split("Chrome/")[1])||undefined,d.isMac=dav.indexOf("Macintosh")>=0;var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index&&!dojo.isChrome){d.isSafari=parseFloat(dav.split("Version/")[1]);if(!d.isSafari||parseFloat(dav.substr(index+7))<=419.3)d.isSafari=2}dua.indexOf("Gecko")>=0&&!d.isKhtml&&!d.isWebKit&&(d.isMozilla=d.isMoz=tv),d.isMoz&&(d.isFF=parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined);if(document.all&&!d.isOpera){d.isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var mode=document.documentMode;mode&&mode!=5&&Math.floor(d.isIE)!=mode&&(d.isIE=mode)}dojo.isIE&&window.location.protocol==="file:"&&(dojo.config.ieForceActiveXXhr=!0),d.isQuirks=document.compatMode=="BackCompat",d.locale=dojo.config.locale||(d.isIE?n.userLanguage:n.language).toLowerCase(),d._XMLHTTP_PROGIDS=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],d._xhrObj=function(){var a,b;if(!dojo.isIE||!dojo.config.ieForceActiveXXhr)try{a=new XMLHttpRequest}catch(c){}if(!a)for(var e=0;e<3;++e){var f=d._XMLHTTP_PROGIDS[e];try{a=new ActiveXObject(f)}catch(c){b=c}if(a){d._XMLHTTP_PROGIDS=[f];break}}if(!a)throw new Error("XMLHTTP not available: "+b);return a},d._isDocumentOk=function(a){var b=a.status||0,c=location.protocol;return b>=200&&b<300||b==304||b==1223||!b&&(c=="file:"||c=="chrome:"||c=="chrome-extension:"||c=="app:")};var owloc=window.location+"",base=document.getElementsByTagName("base"),hasBase=base&&base.length>0;d._getText=function(a,b){var c=d._xhrObj();!hasBase&&dojo._Url&&(a=(new dojo._Url(owloc,a)).toString()),d.config.cacheBust&&(a+="",a+=(a.indexOf("?")==-1?"?":"&")+String(d.config.cacheBust).replace(/\W+/g,"")),c.open("GET",a,!1);try{c.send(null);if(!d._isDocumentOk(c)){var e=Error("Unable to load "+a+" status:"+c.status);e.status=c.status,e.responseText=c.responseText;throw e}}catch(f){if(b)return null;throw f}return c.responseText};var _w=window,_handleNodeEvent=function(a,b){var c=_w.attachEvent||_w.addEventListener;a=_w.attachEvent?a:a.substring(2),c(a,function(){b.apply(_w,arguments)},!1)};d._windowUnloaders=[],d.windowUnloaded=function(){var a=d._windowUnloaders;while(a.length)a.pop()();d=null};var _onWindowUnloadAttached=0;d.addOnWindowUnload=function(a,b){d._onto(d._windowUnloaders,a,b),_onWindowUnloadAttached||(_onWindowUnloadAttached=1,_handleNodeEvent("onunload",d.windowUnloaded))};var _onUnloadAttached=0;d.addOnUnload=function(a,b){d._onto(d._unloaders,a,b),_onUnloadAttached||(_onUnloadAttached=1,_handleNodeEvent("onbeforeunload",dojo.unloaded))}}(),dojo._initFired=!1,dojo._loadInit=function(a){dojo._scrollIntervalId&&(clearInterval(dojo._scrollIntervalId),dojo._scrollIntervalId=0),dojo._initFired||(dojo._initFired=!0,!dojo.config.afterOnLoad&&window.detachEvent&&window.detachEvent("onload",dojo._loadInit),dojo._inFlightCount==0&&dojo._modulesLoaded())},dojo.config.afterOnLoad||(document.addEventListener?(document.addEventListener("DOMContentLoaded",dojo._loadInit,!1),window.addEventListener("load",dojo._loadInit,!1)):window.attachEvent&&(window.attachEvent("onload",dojo._loadInit),!dojo.config.skipIeDomLoaded&&self===self.top&&(dojo._scrollIntervalId=setInterval(function(){try{document.body&&(document.documentElement.doScroll("left"),dojo._loadInit())}catch(a){}},30))));if(dojo.isIE)try{(function(){document.namespaces.add("v","urn:schemas-microsoft-com:vml");var a=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],b=0,c=1,d=document.createStyleSheet();dojo.isIE>=8&&(b=1,c=a.length);for(;b<c;++b)d.addRule("v\\:"+a[b],"behavior:url(#default#VML); display:inline-block")})()}catch(e){}}(function(){var a=dojo.config.modulePaths;if(a)for(var b in a)dojo.registerModulePath(b,a[b])})(),dojo.config.isDebug&&dojo.require("dojo._firebug.firebug"),dojo.config.debugAtAllCosts&&(dojo.require("dojo._base._loader.loader_debug"),dojo.require("dojo.i18n"));return dojo})