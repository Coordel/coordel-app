(function(){var a=function(a){var b=a.trim,c=a.forEach,d=a._NodeListCtor=a.NodeList,e=function(){return a.doc},f=(a.isWebKit||a.isMozilla)&&e().compatMode=="BackCompat",g=!e().firstChild.children?"childNodes":"children",h=">~+",i=!1,j=function(){return!0},k=function(a){h.indexOf(a.slice(-1))<0?a+=" ":a+=" * ";var c=function(c,d){return b(a.slice(c,d))},d=[],e=-1,f=-1,g=-1,j=-1,k=-1,l=-1,m=-1,n="",o="",p,q=0,r=a.length,s=null,t=null,u=function(){if(m>=0){var a=m==q?null:c(m,q);s[h.indexOf(a)<0?"tag":"oper"]=a,m=-1}},v=function(){l>=0&&(s.id=c(l,q).replace(/\\/g,""),l=-1)},w=function(){k>=0&&(s.classes.push(c(k+1,q).replace(/\\/g,"")),k=-1)},x=function(){v(),u(),w()},y=function(){x(),j>=0&&s.pseudos.push({name:c(j+1,q)}),s.loops=s.pseudos.length||s.attrs.length||s.classes.length,s.oquery=s.query=c(p,q),s.otag=s.tag=s.oper?null:s.tag||"*",s.tag&&(s.tag=s.tag.toUpperCase()),d.length&&d[d.length-1].oper&&(s.infixOper=d.pop(),s.query=s.infixOper.query+" "+s.query),d.push(s),s=null};for(;n=o,o=a.charAt(q),q<r;q++){if(n=="\\")continue;s||(p=q,s={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return i?this.otag:this.tag}},m=q);if(e<0)f<0?o=="#"?(x(),l=q+1):o=="."?(x(),k=q):o==":"?(x(),j=q):o=="["?(x(),e=q,t={}):o=="("?(j>=0&&(t={name:c(j+1,q),value:null},s.pseudos.push(t)),f=q):o==" "&&n!=o&&y():o==")"&&(j>=0&&(t.value=c(f+1,q)),j=f=-1);else if(o=="]"){t.attr?t.matchFor=c(g||e+1,q):t.attr=c(e+1,q);var z=t.matchFor;if(z)if(z.charAt(0)=='"'||z.charAt(0)=="'")t.matchFor=z.slice(1,-1);s.attrs.push(t),t=null,e=g=-1}else if(o=="="){var A="|~^$*".indexOf(n)>=0?n:"";t.type=A+o,t.attr=c(e+1,q-A.length),g=q+1}}return d},l=function(a,b){if(!a)return b;if(!b)return a;return function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},m=function(a,b){var c=b||[];a&&c.push(a);return c},n=function(a){return 1==a.nodeType},o="",p=function(a,b){if(!a)return o;if(b=="class")return a.className||o;if(b=="for")return a.htmlFor||o;if(b=="style")return a.style.cssText||o;return(i?a.getAttribute(b):a.getAttribute(b,2))||o},q={"*=":function(a,b){return function(c){return p(c,a).indexOf(b)>=0}},"^=":function(a,b){return function(c){return p(c,a).indexOf(b)==0}},"$=":function(a,b){var c=" "+b;return function(c){var d=" "+p(c,a);return d.lastIndexOf(b)==d.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){var d=" "+p(b,a)+" ";return d.indexOf(c)>=0}},"|=":function(a,b){var c=" "+b+"-";return function(d){var e=" "+p(d,a);return e==b||e.indexOf(c)==0}},"=":function(a,b){return function(c){return p(c,a)==b}}},r=typeof e().firstChild.nextElementSibling=="undefined",s=r?"nextSibling":"nextElementSibling",t=r?"previousSibling":"previousElementSibling",u=r?n:j,v=function(a){while(a=a[t])if(u(a))return!1;return!0},w=function(a){while(a=a[s])if(u(a))return!1;return!0},x=function(a){var b=a.parentNode,c=0,d=b[g],e=a._i||-1,f=b._l||-1;if(!d)return-1;var h=d.length;if(f==h&&e>=0&&f>=0)return e;b._l=h,e=-1;for(var i=b.firstElementChild||b.firstChild;i;i=i[s])u(i)&&(i._i=++c,a===i&&(e=c));return e},y=function(a){return!(x(a)%2)},z=function(a){return x(a)%2},A={checked:function(a,b){return function(a){return!!("checked"in a?a.checked:a.selected)}},"first-child":function(){return v},"last-child":function(){return w},"only-child":function(a,b){return function(a){if(!v(a))return!1;if(!w(a))return!1;return!0}},empty:function(a,b){return function(a){var b=a.childNodes,c=a.childNodes.length;for(var d=c-1;d>=0;d--){var e=b[d].nodeType;if(e===1||e==3)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if(c=='"'||c=="'")b=b.slice(1,-1);return function(a){return a.innerHTML.indexOf(b)>=0}},not:function(a,b){var c=k(b)[0],d={el:1};c.tag!="*"&&(d.tag=1),c.classes.length||(d.classes=1);var e=C(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){var c=parseInt;if(b=="odd")return z;if(b=="even")return y;if(b.indexOf("n")!=-1){var d=b.split("n",2),e=d[0]?d[0]=="-"?-1:c(d[0]):1,f=d[1]?c(d[1]):0,g=0,h=-1;e>0?f<0?f=f%e&&e+f%e:f>0&&(f>=e&&(g=f-f%e),f=f%e):e<0&&(e*=-1,f>0&&(h=f,f=f%e));if(e>0)return function(a){var b=x(a);return b>=g&&(h<0||b<=h)&&b%e==f};b=f}var i=c(b);return function(a){return x(a)==i}}},B=a.isIE<9||dojo.isIE&&dojo.isQuirks?function(a){var b=a.toLowerCase();b=="class"&&(a="className");return function(c){return i?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},C=function(a,b){if(!a)return j;b=b||{};var d=null;"el"in b||(d=l(d,n)),"tag"in b||a.tag!="*"&&(d=l(d,function(b){return b&&b.tagName==a.getTag()})),"classes"in b||c(a.classes,function(a,b,c){var e=new RegExp("(?:^|\\s)"+a+"(?:\\s|$)");d=l(d,function(a){return e.test(a.className)}),d.count=b}),"pseudos"in b||c(a.pseudos,function(a){var b=a.name;A[b]&&(d=l(d,A[b](b,a.value)))}),"attrs"in b||c(a.attrs,function(a){var b,c=a.attr;a.type&&q[a.type]?b=q[a.type](c,a.matchFor):c.length&&(b=B(c)),b&&(d=l(d,b))}),"id"in b||a.id&&(d=l(d,function(b){return!!b&&b.id==a.id})),d||("default"in b||(d=j));return d},D=function(a){return function(b,c,d){while(b=b[s]){if(r&&!n(b))continue;(!d||Y(b,d))&&a(b)&&c.push(b);break}return c}},E=function(a){return function(b,c,d){var e=b[s];while(e){if(u(e)){if(d&&!Y(e,d))break;a(e)&&c.push(e)}e=e[s]}return c}},F=function(a){a=a||j;return function(b,c,d){var e,f=0,h=b[g];while(e=h[f++])u(e)&&(!d||Y(e,d))&&a(e,f)&&c.push(e);return c}},G=function(a,b){var c=a.parentNode;while(c){if(c==b)break;c=c.parentNode}return!!c},H={},I=function(b){var c=H[b.query];if(c)return c;var d=b.infixOper,g=d?d.oper:"",h=C(b,{el:1}),i=b.tag,k="*"==i,l=e().getElementsByClassName;if(g){var o={el:1};k&&(o.tag=1),h=C(b,o),"+"==g?c=D(h):"~"==g?c=E(h):">"==g&&(c=F(h))}else if(b.id)h=!b.loops&&k?j:C(b,{el:1,id:1}),c=function(c,d){var e=a.byId(b.id,c.ownerDocument||c);if(e&&h(e)){if(9==c.nodeType)return m(e,d);if(G(e,c))return m(e,d)}};else if(l&&/\{\s*\[native code\]\s*\}/.test(String(l))&&b.classes.length&&!f){h=C(b,{el:1,classes:1,id:1});var n=b.classes.join(" ");c=function(a,b,c){var d=m(0,b),e,f=0,g=a.getElementsByClassName(n);while(e=g[f++])h(e,a)&&Y(e,c)&&d.push(e);return d}}else k||b.loops?(h=C(b,{el:1,tag:1,id:1}),c=function(a,c,d){var e=m(0,c),f,g=0,i=a.getElementsByTagName(b.getTag());while(f=i[g++])h(f,a)&&Y(f,d)&&e.push(f);return e}):c=function(a,c,d){var e=m(0,c),f,g=0,h=a.getElementsByTagName(b.getTag());while(f=h[g++])Y(f,d)&&e.push(f);return e};return H[b.query]=c},J=function(a,b){var c=m(a),d,e,f,g=b.length,h,i;for(var j=0;j<g;j++){i=[],d=b[j],e=c.length-1,e>0&&(h={},i.nozip=!0);var k=I(d);for(var l=0;f=c[l];l++)k(f,i,h);if(!i.length)break;c=i}return i},K={},L={},M=function(a){var c=k(b(a));if(c.length==1){var e=I(c[0]);return function(a){var b=e(a,new d);b&&(b.nozip=!0);return b}}return function(a){return J(a,c)}},N=navigator.userAgent,O="WebKit/",P=a.isWebKit&&N.indexOf(O)>0&&parseFloat(N.split(O)[1])>528,Q=a.isIE?"commentStrip":"nozip",R="querySelectorAll",S=!!e()[R]&&(!a.isSafari||a.isSafari>3.1||P),T=/n\+\d|([^ ])?([>~+])([^ =])?/g,U=function(a,b,c,d){return c?(b?b+" ":"")+c+(d?" "+d:""):a},V=function(b,c){b=b.replace(T,U);if(S){var d=L[b];if(d&&!c)return d}var e=K[b];if(e)return e;var g=b.charAt(0),i=-1==b.indexOf(" ");b.indexOf("#")>=0&&i&&(c=!0);var j=S&&!c&&h.indexOf(g)==-1&&(!a.isIE||b.indexOf(":")==-1)&&(!f||b.indexOf(".")<0)&&b.indexOf(":contains")==-1&&b.indexOf(":checked")==-1&&b.indexOf("|=")==-1;if(j){var k=h.indexOf(b.charAt(b.length-1))>=0?b+" *":b;return L[b]=function(a){try{if(9!=a.nodeType&&!i)throw"";var c=a[R](k);c[Q]=!0;return c}catch(d){return V(b,!0)(a)}}}var l=b.split(/\s*,\s*/);return K[b]=l.length<2?M(b):function(a){var b=0,c=[],d;while(d=l[b++])c=c.concat(M(d)(a));return c}},W=0,X=a.isIE?function(a){return i?a.getAttribute("_uid")||a.setAttribute("_uid",++W)||W:a.uniqueID}:function(a){return a._uid||(a._uid=++W)},Y=function(a,b){if(!b)return 1;var c=X(a);if(!b[c])return b[c]=1;return 0},Z="_zipIdx",$=function(b){if(b&&b.nozip)return d._wrap?d._wrap(b):b;var c=new d;if(!b||!b.length)return c;b[0]&&c.push(b[0]);if(b.length<2)return c;W++;if(a.isIE&&i){var e=W+"";b[0].setAttribute(Z,e);for(var f=1,g;g=b[f];f++)b[f].getAttribute(Z)!=e&&c.push(g),g.setAttribute(Z,e)}else if(a.isIE&&b.commentStrip)try{for(var f=1,g;g=b[f];f++)n(g)&&c.push(g)}catch(h){}else{b[0]&&(b[0][Z]=W);for(var f=1,g;g=b[f];f++)b[f][Z]!=W&&c.push(g),g[Z]=W}return c};a.query=function(b,c){d=a._NodeListCtor;if(!b)return new d;if(b.constructor==d)return b;if(typeof b!="string")return new d(b);if(typeof c=="string"){c=a.byId(c);if(!c)return new d}c=c||e();var f=c.ownerDocument||c.documentElement;i=c.contentType&&c.contentType=="application/xml"||a.isOpera&&(c.doctype||f.toString()=="[object XMLDocument]")||!!f&&(a.isIE?f.xml:c.xmlVersion||f.xmlVersion);var g=V(b)(c);if(g&&g.nozip&&!d._wrap)return g;return $(g)},a.query.pseudos=A,a._filterQueryResult=function(b,c,d){var e=new a._NodeListCtor,f=k(c),g=f.length==1&&!/[^\w#\.]/.test(c)?C(f[0]):function(a){return dojo.query(c,d).indexOf(a)!=-1};for(var h=0,i;i=b[h];h++)g(i)&&e.push(i);return e}},b=function(){acme={trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;b>=0;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a},forEach:function(a,b,c){if(a&&a.length)for(var d=0,e=a.length;d<e;++d)b.call(c||window,a[d],d,a)},byId:function(a,b){return typeof a=="string"?(b||document).getElementById(a):a},doc:document,NodeList:Array};var a=navigator,b=a.userAgent,c=a.appVersion,d=parseFloat(c);acme.isOpera=b.indexOf("Opera")>=0?d:undefined,acme.isKhtml=c.indexOf("Konqueror")>=0?d:undefined,acme.isWebKit=parseFloat(b.split("WebKit/")[1])||undefined,acme.isChrome=parseFloat(b.split("Chrome/")[1])||undefined;var e=Math.max(c.indexOf("WebKit"),c.indexOf("Safari"),0);if(e&&!acme.isChrome){acme.isSafari=parseFloat(c.split("Version/")[1]);if(!acme.isSafari||parseFloat(c.substr(e+7))<=419.3)acme.isSafari=2}document.all&&!acme.isOpera&&(acme.isIE=parseFloat(c.split("MSIE ")[1])||undefined),Array._wrap=function(a){return a};return acme};typeof define=="function"&&define("dojo/_base/query",["dojo/lib/kernel","dojo/_base/NodeList","dojo/_base/lang","dojo/_base/window"],function(b){a(this.queryPortability||this.acme||b)}),typeof define!="function"&&(this.dojo?(dojo.provide("dojo._base.query"),dojo.require("dojo._base.NodeList"),dojo.require("dojo._base.lang"),a(this.queryPortability||this.acme||dojo)):a(this.queryPortability||this.acme||b()))})()