define("dojo/_base/declare",["dojo/lib/kernel","dojo/_base/lang","dojo/_base/array"],function(a){(function(){function v(a){var b=a.callee,c=u(b);b.apply(c,a);return c}function u(a){f.prototype=a.prototype;var b=new f;f.prototype=null;return b}function t(a,b,c){return function(){var d,e,f,g=0,h=1;c&&(g=b.length-1,h=-1);for(;d=b[g];g+=h)e=d._meta,f=(e?e.hidden:d.prototype)[a],f&&f.apply(this,arguments)}}function s(a){return function(){var b=arguments,c=0,d,e;if(!(this instanceof b.callee))return v(b);for(;d=a[c];++c){e=d._meta,d=e?e.ctor:d;if(d){d.apply(this,b);break}}d=this.postscript,d&&d.apply(this,b)}}function r(a,b){return function(){var c=arguments,d=c,e=c[0],f;if(!(this instanceof c.callee))return v(c);b&&(e&&(f=e.preamble,f&&(d=f.apply(this,d)||d)),f=this.preamble,f&&f.apply(this,d)),a&&a.apply(this,c),f=this.postscript,f&&f.apply(this,c)}}function q(a,b){return function(){var c=arguments,d=c,e=c[0],f,g,h,i=a.length,j;if(!(this instanceof c.callee))return v(c);if(b&&(e&&e.preamble||this.preamble)){j=Array(a.length),j[0]=c;for(g=0;;){e=c[0],e&&(f=e.preamble,f&&(c=f.apply(this,c)||c)),f=a[g].prototype,f=f.hasOwnProperty("preamble")&&f.preamble,f&&(c=f.apply(this,c)||c);if(++g==i)break;j[g]=c}}for(g=i-1;g>=0;--g)f=a[g],h=f._meta,f=h?h.ctor:f,f&&f.apply(this,j?j[g]:c);f=this.postscript,f&&f.apply(this,d)}}function p(a){o(this.prototype,a);return this}function o(a,c){var f,g,i=0,j=b._extraNames.length;for(f in c)g=c[f],(g!==d[f]||!(f in d))&&f!=h&&(e.call(g)=="[object Function]"&&(g.nom=f),a[f]=g);for(;i<j;++i)f=b._extraNames[i],g=c[f],(g!==d[f]||!(f in d))&&f!=h&&(e.call(g)=="[object Function]"&&(g.nom=f),a[f]=g);return a}function n(a,c){var d,e=0,f=b._extraNames.length;for(d in c)d!=h&&c.hasOwnProperty(d)&&(a[d]=c[d]);for(;e<f;++e)d=b._extraNames[e],d!=h&&c.hasOwnProperty(d)&&(a[d]=c[d])}function m(a){var b=this.constructor._meta.bases;for(var c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof a}function l(a,b){if(typeof a=="string")return this.inherited(a,b,!0);return this.inherited(a,!0)}function k(a,b,c){var e,f,g,j,k,l,m,n,o,p=this._inherited=this._inherited||{};typeof a=="string"&&(e=a,a=b,b=c),c=0,j=a.callee,e=e||j.nom,e||i("can't deduce a name to call inherited()",this.declaredClass),k=this.constructor._meta,g=k.bases,o=p.p;if(e!=h){if(p.c!==j){o=0,l=g[0],k=l._meta;if(k.hidden[e]!==j){f=k.chains,f&&typeof f[e]=="string"&&i("calling chained method with inherited: "+e,this.declaredClass);do{k=l._meta,m=l.prototype;if(k&&(m[e]===j&&m.hasOwnProperty(e)||k.hidden[e]===j))break}while(l=g[++o]);o=l?o:-1}}l=g[++o];if(l){m=l.prototype;if(l._meta&&m.hasOwnProperty(e))c=m[e];else{n=d[e];do{m=l.prototype,c=m[e];if(c&&(l._meta?m.hasOwnProperty(e):c!==n))break}while(l=g[++o])}}c=l&&c||d[e]}else{if(p.c!==j){o=0,k=g[0]._meta;if(k&&k.ctor!==j){f=k.chains,(!f||f.constructor!=="manual")&&i("calling chained constructor with inherited",this.declaredClass);while(l=g[++o]){k=l._meta;if(k&&k.ctor===j)break}o=l?o:-1}}while(l=g[++o]){k=l._meta,c=k?k.ctor:l;if(c)break}c=l&&c}p.c=c,p.p=o;if(c)return b===!0?c:c.apply(this,b||a)}function j(a,b){var c=[],d=[{cls:0,refs:[]}],f={},h=1,j=a.length,k=0,l,m,n,o,p,q,r,s;for(;k<j;++k){n=a[k],n?e.call(n)!="[object Function]"&&i("mixin #"+k+" is not a callable constructor.",b):i("mixin #"+k+" is unknown. Did you use dojo.require to pull it in?",b),m=n._meta?n._meta.bases:[n],o=0;for(l=m.length-1;l>=0;--l)p=m[l].prototype,p.hasOwnProperty("declaredClass")||(p.declaredClass="uniqName_"+g++),r=p.declaredClass,f.hasOwnProperty(r)||(f[r]={count:0,refs:[],cls:m[l]},++h),q=f[r],o&&o!==q&&(q.refs.push(o),++o.count),o=q;++o.count,d[0].refs.push(o)}while(d.length){o=d.pop(),c.push(o.cls),--h;while(s=o.refs,s.length==1){o=s[0];if(!o||--o.count){o=0;break}c.push(o.cls),--h}if(o)for(k=0,j=s.length;k<j;++k)o=s[k],--o.count||d.push(o)}h&&i("can't build consistent linearization",b),n=a[0],c[0]=n?n._meta&&n===c[c.length-n._meta.bases.length]?n._meta.bases.length:1:0;return c}function i(a,b){throw new Error("declare"+(b?" "+b:"")+": "+a)}var b=a,c=b._mixin,d=Object.prototype,e=d.toString,f=new Function,g=0,h="constructor";b.declare=function(a,f,g){typeof a!="string"&&(g=f,f=a,a=""),g=g||{};var v,w,x,y,z,A,B,C=1,D=f;e.call(f)=="[object Array]"?(A=j(f,a),x=A[0],C=A.length-x,f=A[C]):(A=[0],f?e.call(f)=="[object Function]"?(x=f._meta,A=A.concat(x?x.bases:f)):i("base class is not a callable constructor.",a):f!==null&&i("unknown base class. Did you use dojo.require to pull it in?",a));if(f)for(w=C-1;;--w){v=u(f);if(!w)break;x=A[w],(x._meta?n:c)(v,x.prototype),y=new Function,y.superclass=f,y.prototype=v,f=v.constructor=y}else v={};o(v,g),x=g.constructor,x!==d.constructor&&(x.nom=h,v.constructor=x);for(w=C-1;w;--w)x=A[w]._meta,x&&x.chains&&(B=c(B||{},x.chains));v["-chains-"]&&(B=c(B||{},v["-chains-"])),x=!B||!B.hasOwnProperty(h),A[0]=y=B&&B.constructor==="manual"?s(A):A.length==1?r(g.constructor,x):q(A,x),y._meta={bases:A,hidden:g,chains:B,parents:D,ctor:g.constructor},y.superclass=f&&f.prototype,y.extend=p,y.prototype=v,v.constructor=y,v.getInherited=l,v.inherited=k,v.isInstanceOf=m,a&&(v.declaredClass=a,b.setObject(a,y));if(B)for(z in B)v[z]&&typeof B[z]=="string"&&z!=h&&(x=v[z]=t(z,A,B[z]==="after"),x.nom=z);return y},b.safeMixin=o})();return a.declare})