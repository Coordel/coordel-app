typeof dojo=="undefined"&&function(){var getRootNode=function(){if(this.document&&this.document.getElementsByTagName){var a=document.getElementsByTagName("script"),b=/dojo\.js(\W|$)/i;for(var c=0;c<a.length;c++){var d=a[c].getAttribute("src");if(!d)continue;var e=d.match(b);if(e)return{node:a[c],root:d.substring(0,e.index)}}}},hostEnv="browser",cfg="dojoConfig";typeof this[cfg]==="undefined"&&typeof djConfig!=="undefined"&&(this[cfg]=djConfig),typeof dojoConfig!=="undefined"&&dojoConfig.hostEnv?hostEnv=dojoConfig.hostEnv:typeof this.load!="function"||typeof this.Packages!="function"&&typeof this.Packages!="object"?typeof this.load=="function"&&(hostEnv="spidermonkey"):hostEnv="rhino";var tmps=["bootstrap.js","loader.js","hostenv_"+hostEnv+".js"];this.Jaxer&&this.Jaxer.isOnServer&&(this.load=Jaxer.load),this[cfg]&&(dojoConfig.forceXDomain||dojoConfig.useXDomain)&&tmps.push("loader_xd.js");if(this[cfg]&&dojoConfig.baseUrl)var root=dojoConfig.baseUrl;else{var root="./";if(hostEnv==="spidermonkey")try{throw new Error("")}catch(e){root=String(e.fileName||e.sourceURL).split("dojo.js")[0]}this[cfg]||(dojoConfig={baseUrl:root});if(this.document&&this.document.getElementsByTagName){var root=getRootNode().root;this[cfg]||(dojoConfig={}),dojoConfig.baseUrl=root}}for(var x=0;x<tmps.length;x++)tmps[x]=root+"_base/_loader/"+tmps[x];tmps.push(root+"_base.js");var lastRoot,isOpera=0,isWebKit=0;if(hostEnv=="browser")try{lastRoot=getRootNode().node;var ua=navigator.userAgent;isOpera=ua.indexOf("Opera")>=0,isWebKit=ua.indexOf("WebKit")>=0}catch(e){}var injectXHRCode=function(src){var xhr=new XMLHttpRequest;xhr.open("GET",src,!1),xhr.send(),eval(xhr.responseText)},injectScriptNode=function(a){if(isWebKit)return injectXHRCode(a);var b=document.getElementsByTagName("head")[0],c=document.createElement("script");c.setAttribute("type","text/javascript"),b.lastChild===lastRoot?b.appendChild(c):lastRoot.parentNode.insertBefore(c,lastRoot.nextSibling),c.src=a,lastRoot=c};for(var x=0;x<tmps.length;x++)if(hostEnv==="rhino"||hostEnv==="spidermonkey"||this.Jaxer&&this.Jaxer.isOnServer)load(tmps[x]);else if(hostEnv==="ff_ext"){var l=Components.classes["@mozilla.org/moz/jssubscript-loader;1"].getService(Components.interfaces.mozIJSSubScriptLoader);l.loadSubScript(tmps[x],this)}else if(isOpera)injectXHRCode(tmps[x]);else try{document.write("<script type='text/javascript' src='"+tmps[x]+"'></script>")}catch(e){injectScriptNode(tmps[x])}}()