dojo.provide("dojo.tests.data.ObjectStore"),dojo.require("dojo.data.ObjectStore"),dojo.require("dojo.store.JsonRest"),dojo.require("dojo.store.Memory"),function(){var a=new dojo.store.JsonRest({target:dojo.moduleUrl("dojo.tests.store","")}),b=new dojo.store.Memory({data:[{id:1,name:"one",prime:!1},{id:2,name:"two",even:!0,prime:!0},{id:3,name:"three",prime:!0},{id:4,name:"four",even:!0,prime:!1},{id:5,name:"five",prime:!0}]}),c=new dojo.data.ObjectStore({objectStore:a}),d=new dojo.data.ObjectStore({objectStore:b});tests.register("tests.data.ObjectStore",[function e(a){var b=new doh.Deferred;c.fetchItemByIdentity({identity:"node1.1",onItem:function(c){a.is(c.name,"node1.1"),a.is(c.someProperty,"somePropertyA1"),b.callback(!0)}});return b},function f(a){var b=new doh.Deferred;c.fetch({query:"treeTestRoot",onComplete:function(c){var d=c[0];a.is(d.name,"node1"),a.is(d.someProperty,"somePropertyA"),b.callback(!0)}});return b},function g(a){var b=d.newItem({foo:"bar",id:Math.random()});d.setValue(b,"prop1",1),d.save(),d.fetchItemByIdentity({identity:d.getIdentity(b),onItem:function(c){a.is(d.getValue(c,"foo"),"bar"),d.setValue(b,"prop2",2),a.is(d.getValue(c,"prop1"),1),a.is(d.getValue(c,"prop2"),2)}})},function h(a){var b=new doh.Deferred;d.fetch({query:{name:"one"},onComplete:function(c){var d=c[0];a.is(c.length,1),a.is(d.name,"one"),b.callback(!0)}});return b},function i(a){var b=new doh.Deferred;d.fetch({query:{name:"o"},onComplete:function(c){a.is(c.length,0),b.callback(!0)}});return b},function j(a){var b=new doh.Deferred;d.fetch({query:{name:"f*"},onComplete:function(c){var d=c[0];a.is(c.length,2),a.is(d.name,"four"),b.callback(!0)}});return b},function k(a){var b=new doh.Deferred;d.fetch({query:{name:"F*"},queryOptions:{ignoreCase:!0},onComplete:function(c){var d=c[0];a.is(c.length,2),a.is(d.name,"four"),b.callback(!0)}});return b}])}()