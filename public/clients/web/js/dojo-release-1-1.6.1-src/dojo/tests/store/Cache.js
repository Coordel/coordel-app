dojo.provide("dojo.tests.store.Cache"),dojo.require("dojo.store.Memory"),dojo.require("dojo.store.Cache"),function(){var a=new dojo.store.Memory({data:[{id:1,name:"one",prime:!1},{id:2,name:"two",even:!0,prime:!0},{id:3,name:"three",prime:!0},{id:4,name:"four",even:!0,prime:!1},{id:5,name:"five",prime:!0}]}),b=new dojo.store.Memory,c={},d=dojo.store.Cache(a,b,c);tests.register("dojo.tests.store.Cache",[function e(a){a.is(d.get(1).name,"one"),a.is(b.get(1).name,"one"),a.is(d.get(1).name,"one"),a.is(d.get(4).name,"four"),a.is(b.get(4).name,"four"),a.is(d.get(4).name,"four")},function f(a){c.isLoaded=function(){return!1},a.is(d.query({prime:!0}).length,3),a.is(d.query({even:!0})[1].name,"four"),a.is(b.get(3),undefined),c.isLoaded=function(){return!0},a.is(d.query({prime:!0}).length,3),a.is(b.get(3).name,"three")},function g(a){a.is(d.query({prime:!0},{sort:[{attribute:"name"}]}).length,3),a.is(d.query({even:!0},{sort:[{attribute:"name"}]})[1].name,"two")},function h(c){var e=d.get(4);e.square=!0,d.put(e),e=d.get(4),c.t(e.square),e=b.get(4),c.t(e.square),e=a.get(4),c.t(e.square)},function i(c){d.put({id:6,perfect:!0}),c.t(d.get(6).perfect),c.t(b.get(6).perfect),c.t(a.get(6).perfect)},function j(a){var b;try{d.add({id:6,perfect:!0})}catch(c){b=!0}a.t(b)},function k(c){d.add({id:7,prime:!0}),c.t(d.get(7).prime),c.t(b.get(7).prime),c.t(a.get(7).prime)}])}()