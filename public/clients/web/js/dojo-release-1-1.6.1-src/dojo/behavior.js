define("dojo/behavior",["dojo"],function(a){a.behavior=new function(){function d(a,b,c){var d={};for(var e in a)typeof d[e]=="undefined"&&(c?c.call(b,a[e],e):b(a[e],e))}function b(a,b){a[b]||(a[b]=[]);return a[b]}var c=0;this._behaviors={},this.add=function(e){var f={};d(e,this,function(e,f){var g=b(this._behaviors,f);typeof g.id!="number"&&(g.id=c++);var h=[];g.push(h);if(a.isString(e)||a.isFunction(e))e={found:e};d(e,function(a,c){b(h,c).push(a)})})};var e=function(b,c,d){a.isString(c)?d=="found"?a.publish(c,[b]):a.connect(b,d,function(){a.publish(c,arguments)}):a.isFunction(c)&&(d=="found"?c(b):a.connect(b,d,c))};this.apply=function(){d(this._behaviors,function(b,c){a.query(c).forEach(function(c){var f=0,g="_dj_behavior_"+b.id;if(typeof c[g]=="number"){f=c[g];if(f==b.length)return}for(var h=f,i;i=b[h];h++)d(i,function(b,d){a.isArray(b)&&a.forEach(b,function(a){e(c,a,d)})});c[g]=b.length})})}},a.addOnLoad(a.behavior,"apply");return a.behavior})