define("dojo/hash",["dojo"],function(a){(function(){function k(){function p(){b=g(),j=n?b:f(o.href,"?"),k=!1,l=null}var c=document.createElement("iframe"),d="dojo-hash-iframe",i=a.config.dojoBlankHtmlUrl||a.moduleUrl("dojo","resources/blank.html");a.config.useXDomain&&!a.config.dojoBlankHtmlUrl&&console.warn("dojo.hash: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),c.id=d,c.src=i+"?"+g(),c.style.display="none",document.body.appendChild(c),this.iframe=a.global[d];var j,k,l,m,n,o=this.iframe.location;this.isTransitioning=function(){return k},this.pollLocation=function(){if(!n)try{var d=f(o.href,"?");document.title!=m&&(m=this.iframe.document.title=document.title)}catch(q){n=!0,console.error("dojo.hash: Error adding history entry. Server unreachable.")}var r=g();if(k&&b===r)if(n||d===l)p(),h();else{setTimeout(a.hitch(this,this.pollLocation),0);return}else if(b!==r||!n&&j!==d){if(b!==r){b=r,k=!0,l=r,c.src=i+"?"+l,n=!1,setTimeout(a.hitch(this,this.pollLocation),0);return}n||(location.href="#"+o.search.substring(1),p(),h())}setTimeout(a.hitch(this,this.pollLocation),e)},p(),setTimeout(a.hitch(this,this.pollLocation),e)}function j(b){if(c){if(c.isTransitioning()){setTimeout(a.hitch(null,j,b),e);return}var f=c.iframe.location.href,g=f.indexOf("?");c.iframe.location.replace(f.substring(0,g)+"?"+b)}else location.replace("#"+b),!d&&i()}function i(){g()!==b&&(b=g(),h())}function h(){a.publish("/dojo/hashchange",[g()])}function g(){return f(location.href,"#")}function f(a,b){var c=a.indexOf(b);return c>=0?a.substring(c+1):""}a.hash=function(a,b){if(!arguments.length)return g();a.charAt(0)=="#"&&(a=a.substring(1)),b?j(a):location.href="#"+a;return a};var b,c,d,e=a.config.hashPollFrequency||100;a.addOnLoad(function(){"onhashchange"in a.global&&(!a.isIE||a.isIE>=8&&document.compatMode!="BackCompat")?d=a.connect(a.global,"onhashchange",h):document.addEventListener?(b=g(),setInterval(i,e)):document.attachEvent&&(c=new k)})})();return a.hash})