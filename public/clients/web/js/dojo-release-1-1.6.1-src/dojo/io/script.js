define("dojo/io/script",["dojo"],function(dojo){dojo.getObject("io",!0,dojo),function(){var loadEvent=dojo.isIE?"onreadystatechange":"load",readyRegExp=/complete|loaded/;dojo.io.script={get:function(a){var b=this._makeScriptDeferred(a),c=b.ioArgs;dojo._ioAddQueryToUrl(c),dojo._ioNotifyStart(b);if(this._canAttach(c)){var d=this.attach(c.id,c.url,a.frameDoc);if(!c.jsonp&&!c.args.checkString)var e=dojo.connect(d,loadEvent,function(a){if(a.type=="load"||readyRegExp.test(d.readyState))dojo.disconnect(e),c.scriptLoaded=a})}dojo._ioWatch(b,this._validCheck,this._ioCheck,this._resHandle);return b},attach:function(a,b,c){var d=c||dojo.doc,e=d.createElement("script");e.type="text/javascript",e.src=b,e.id=a,e.charset="utf-8";return d.getElementsByTagName("head")[0].appendChild(e)},remove:function(a,b){dojo.destroy(dojo.byId(a,b)),this["jsonp_"+a]&&delete this["jsonp_"+a]},_makeScriptDeferred:function(a){var b=dojo._ioSetArgs(a,this._deferredCancel,this._deferredOk,this._deferredError),c=b.ioArgs;c.id=dojo._scopeName+"IoScript"+this._counter++,c.canDelete=!1,c.jsonp=a.callbackParamName||a.jsonp,c.jsonp&&(c.query=c.query||"",c.query.length>0&&(c.query+="&"),c.query+=c.jsonp+"="+(a.frameDoc?"parent.":"")+dojo._scopeName+".io.script.jsonp_"+c.id+"._jsonpCallback",c.frameDoc=a.frameDoc,c.canDelete=!0,b._jsonpCallback=this._jsonpCallback,this["jsonp_"+c.id]=b);return b},_deferredCancel:function(a){a.canceled=!0,a.ioArgs.canDelete&&dojo.io.script._addDeadScript(a.ioArgs)},_deferredOk:function(a){var b=a.ioArgs;b.canDelete&&dojo.io.script._addDeadScript(b);return b.json||b.scriptLoaded||b},_deferredError:function(a,b){b.ioArgs.canDelete&&(a.dojoType=="timeout"?dojo.io.script.remove(b.ioArgs.id,b.ioArgs.frameDoc):dojo.io.script._addDeadScript(b.ioArgs)),console.log("dojo.io.script error",a);return a},_deadScripts:[],_counter:1,_addDeadScript:function(a){dojo.io.script._deadScripts.push({id:a.id,frameDoc:a.frameDoc}),a.frameDoc=null},_validCheck:function(a){var b=dojo.io.script,c=b._deadScripts;if(c&&c.length>0){for(var d=0;d<c.length;d++)b.remove(c[d].id,c[d].frameDoc),c[d].frameDoc=null;dojo.io.script._deadScripts=[]}return!0},_ioCheck:function(dfd){var ioArgs=dfd.ioArgs;if(ioArgs.json||ioArgs.scriptLoaded&&!ioArgs.args.checkString)return!0;var checkString=ioArgs.args.checkString;if(checkString&&eval("typeof("+checkString+") != 'undefined'"))return!0;return!1},_resHandle:function(a){dojo.io.script._ioCheck(a)?a.callback(a):a.errback(new Error("inconceivable dojo.io.script._resHandle error"))},_canAttach:function(a){return!0},_jsonpCallback:function(a){this.ioArgs.json=a}}}();return dojo.io.script})