dojo.provide("util.docscripts.cheat.floatup"),function(a){function d(a){var b=0;dojo.forEach(a,function(a){b+=a});return b}function c(a){return Math.min.apply(Math,a)}function b(a){return Math.max.apply(Math,a)}a.NodeList.prototype.floatup=function(c){c=c||"> *";return this.forEach(function(e){function m(c,e,f){function j(b){a.forEach(b,function(b){var d=a.indexOf(e,b);~d&&(h[g].push(c[d][0]),c.splice(d,1),e.splice(d,1))}),g++}var g=0,h=Array(f+1);a.forEach(h,function(a,b){h[b]=[]});var k=0;while(e.length){var m=[];m.push(i?b(e):e[0]),l(d(m))||a.forEach(e,function(a){var b=d(m);(l(b+a)||a<optimumHeight-b)&&m.push(a)}),j(m)}return h}function l(a){var b=optimumHeight+threshold,c=optimumHeight-threshold;return a==optimumHeight||a<=b&&a>=c?!0:!1}var f=a.query(c,e),g=254,h=4,i=!0,j=f.length,k=a.map(f,function(b){return[b,Math.floor(a.position(b).h)]});heights=a.map(k,function(a){return a[1]}),totalHeight=d(heights),avgHeight=totalHeight/h,maxHeight=b(heights),optimumHeight=Math.max(avgHeight,maxHeight),threshold=75;var n=m(k,heights,h);a.forEach(n,function(b,c){var d=a.create("div",{style:{width:g+"px","float":"left"}},e);a.forEach(b,function(b){a.place(b,d)})})})}}(dojo)