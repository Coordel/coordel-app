function buildTreeData(a,b){var c=null,d=[];a.dojoModuleName?c={title:b,dojoModuleName:a.dojoModuleName}:c={};for(var e in a)e!="dojoModuleName"&&d.push(e);d=d.sort();if(d.length>0){c.children=[],c={title:b,children:[]};for(var f=0;f<d.length;f++)c.children.push(buildTreeData(a[d[f]],d[f]))}return c}var srcRoot=arguments[0],outputFileName=arguments[1];djConfig={baseUrl:"../../../dojo/"},load("../../../dojo/dojo.js"),load("../jslib/logger.js"),load("../jslib/fileUtil.js");var fileList=fileUtil.getFilteredFileList(srcRoot,/\.js$/,!0),provideRegExp=/dojo\.provide\(\".*\"\)/g,provideList=[];for(var i=0;i<fileList.length;i++){var fileName=fileList[i],fileContents=new fileUtil.readFile(fileName),matches=fileContents.match(provideRegExp);if(matches)for(var j=0;j<matches.length;j++){var modFileName=fileName.substring(0,fileName.length-3),provideName=matches[j].substring(matches[j].indexOf('"')+1,matches[j].lastIndexOf('"'));if(provideName.indexOf("tests.")!=-1||provideName.indexOf("._")!=-1||provideName.indexOf(".robot")!=-1)continue;if(modFileName.lastIndexOf(provideName.replace(/\./g,"/"))==modFileName.length-provideName.length){provideList.push(provideName);break}}}provideList=provideList.sort(),logger.trace(provideList),fileUtil.saveFile(outputFileName,"var provideList = ["+provideList+"];")