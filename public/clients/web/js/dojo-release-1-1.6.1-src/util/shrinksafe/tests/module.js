dojo.provide("shrinksafe.tests.module"),shrinksafe.tests.module.getContents=function(a){a="../shrinksafe/tests/"+a;return readFile(a)},shrinksafe.tests.module.compress=function(a,b,c){return(new String(Packages.org.dojotoolkit.shrinksafe.Compressor.compressScript(a,0,1,c,b))).toString()},shrinksafe.tests.module.loader=function(a,b,c){var d=shrinksafe.tests.module.getContents(a);return{original:d,compressed:shrinksafe.tests.module.compress(d,b,c||!1)}};try{tests.register("shrinksafe",[function forwardReference(t){var src=shrinksafe.tests.module.loader("3241.js",null);t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(src.compressed.indexOf("test")==-1),eval(src.compressed),t.assertEqual("data",result),delete result},function nestedReference(t){var src=shrinksafe.tests.module.loader("5303.js",null);t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(src.compressed.indexOf("say_hello")==-1),t.assertTrue(src.compressed.indexOf("callback")==-1),eval(src.compressed),t.assertEqual("hello worldhello world",result),t.assertEqual("function",typeof CallMe),delete result},function varConflict(t){var src=shrinksafe.tests.module.loader("8974.js",null);t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(src.compressed.indexOf("variabletwo")==-1),eval(src.compressed),t.assertEqual(-1,result),delete result},function varlists(t){var src=shrinksafe.tests.module.loader("1768.js",null);t.t(src.compressed.indexOf("superlong")==-1),t.t(src.compressed.indexOf("aFunction")==-1),t.t(src.compressed.indexOf("inList")==-1);var boo=eval(src.compressed);t.is(4,result),delete result},function stripConsoleNormal(t){var src=shrinksafe.tests.module.loader("stripconsole.js","normal");t.assertTrue(src.compressed.indexOf('console.debug("debug here!"')==-1),t.assertTrue(src.compressed.indexOf('console.warn("warn here!")')!=-1),t.assertTrue(src.compressed.indexOf('console.error("error here!")')!=-1),eval(src.compressed),t.assertEqual("WARN: warn here!ERROR: error here!notconsole debug here!notconsole warn here!",result),delete result},function stripConsoleWarns(t){var src=shrinksafe.tests.module.loader("stripconsole.js","warn");t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(src.compressed.indexOf('console.debug("debug here!"')==-1),t.assertTrue(src.compressed.indexOf('console.warn("warn here!")')==-1),t.assertTrue(src.compressed.indexOf('console.error("error here!")')!=-1),eval(src.compressed),t.assertEqual("ERROR: error here!notconsole debug here!notconsole warn here!",result),delete result},function stripConsoleAll(t){var src=shrinksafe.tests.module.loader("stripconsole.js","all");t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(src.compressed.indexOf('console.debug("debug here!"')==-1),t.assertTrue(src.compressed.indexOf('console.warn("warn here!")')==-1),t.assertTrue(src.compressed.indexOf('console.error("error here!")')==-1),eval(src.compressed),t.assertEqual("notconsole debug here!notconsole warn here!",result),delete result},function stripConsoleComplex(t){var src=shrinksafe.tests.module.loader("stripcomplex.js","normal");t.assertTrue(src.original.length>src.compressed.length),eval(src.compressed),t.assertEqual("ERROR: wooosome \\ dodgy \" characters *$!?//3-3fn saw arg 'wooo'.ERROR: Error return statement.",result),delete result},function debuggerCall(a){var b=shrinksafe.tests.module.loader("9444.js",null);a.t(b.compressed.indexOf("debugger")>-1)},function nestedReference(t){var src=shrinksafe.tests.module.loader("9676.js",null);eval(src.compressed),t.assertEqual(6,result),delete result},function escapeUnicode(a){var b=shrinksafe.tests.module.loader("escapeunicode.js",null);a.assertTrue(b.compressed.indexOf('"Î±";')==0),b=shrinksafe.tests.module.loader("escapeunicode.js",null,!0),a.assertTrue(b.compressed.indexOf('"\\u03b1";')==0)},function mungeStrings(t){return;var src=shrinksafe.tests.module.loader("8828.js");var boo=eval(src.compressed);var expected=["testing","testbarsimple","testingcombinedbarvariables",'test "+weird syntax',"testbasic",'test "mixed"',"testingmultiplelines",'test "mixed" andmunge',"test","tesbart",'"slightly"+"off"',"falseb","falseb","falseb"],data=string_tests()}])}catch(e){doh.debug(e)}