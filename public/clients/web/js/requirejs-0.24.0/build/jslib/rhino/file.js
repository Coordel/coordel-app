define(function(){var a={backSlashRegExp:/\\/g,getLineSeparator:function(){return a.lineSeparator},lineSeparator:java.lang.System.getProperty("line.separator"),exists:function(a){return(new java.io.File(a)).exists()},parent:function(b){return a.absPath((new java.io.File(b)).getParentFile())},normalize:function(b){return a.absPath(b)},isFile:function(a){return(new java.io.File(a)).isFile()},isDirectory:function(a){return(new java.io.File(a)).isDirectory()},absPath:function(b){typeof b==="string"&&(b=new java.io.File(b));return(b.getAbsolutePath()+"").replace(a.backSlashRegExp,"/")},getFilteredFileList:function(a,b,c,d){var e=[],f,g,h,i,j,k,l,m,n;f=a,d||(f=new java.io.File(a)),g=b.include||b,h=b.exclude||null;if(f.exists()){i=f.listFiles();for(j=0;j<i.length;j++)k=i[j],k.isFile()?(l=k.getPath(),c&&(l=String(l),l.indexOf("/")===-1&&(l=l.replace(/\\/g,"/"))),m=!0,g&&(m=l.match(g)),m&&h&&(m=!l.match(h)),m&&!k.getName().match(/^\./)&&e.push(l)):k.isDirectory()&&!k.getName().match(/^\./)&&(n=this.getFilteredFileList(k,b,c,!0),e.push.apply(e,n))}return e},copyDir:function(b,c,d,e){d=d||/\w/;var f=a.getFilteredFileList(b,d,!0),g=[],h,i,j;for(h=0;h<f.length;h++)i=f[h],j=i.replace(b,c),a.copyFile(i,j,e)&&g.push(j);return g.length?g:null},copyFile:function(a,b,c){var d=new java.io.File(b),e,f,g,h;if(c){e=new java.io.File(a);if(d.exists()&&d.lastModified()>=e.lastModified())return!1}f=d.getParentFile();if(!f.exists())if(!f.mkdirs())throw"Could not create directory: "+f.getAbsolutePath();g=(new java.io.FileInputStream(a)).getChannel(),h=(new java.io.FileOutputStream(b)).getChannel(),h.transferFrom(g,0,g.size()),g.close(),h.close();return!0},readFile:function(b,c){c=c||"utf-8";var d=new java.io.File(b),e=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(d),c)),f,g;try{f=new java.lang.StringBuffer,g=e.readLine(),g&&g.length()&&g.charAt(0)===65279&&(g=g.substring(1));while(g!==null)f.append(g),f.append(a.lineSeparator),g=e.readLine();return String(f.toString())}finally{e.close()}},saveUtf8File:function(b,c){a.saveFile(b,c,"utf-8")},saveFile:function(a,b,c){var d=new java.io.File(a),e,f,g;f=d.getAbsoluteFile().getParentFile();if(!f.exists())if(!f.mkdirs())throw"Could not create directory: "+f.getAbsolutePath();c?e=new java.io.OutputStreamWriter(new java.io.FileOutputStream(d),c):e=new java.io.OutputStreamWriter(new java.io.FileOutputStream(d)),g=new java.io.BufferedWriter(e);try{g.write(b)}finally{g.close()}},deleteFile:function(a){var b=new java.io.File(a),c,d;if(b.exists()){if(b.isDirectory()){c=b.listFiles();for(d=0;d<c.length;d++)this.deleteFile(c[d])}b["delete"]()}}};return a})